<html lang="zh-cn" xml:lang="zh-cn"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="如果将指定给 Web Adaptor 的信任级别设置为“高”和“中”，则尝试使用服务器配置 Web Adaptor 时，会出现一条错误消息。"><meta name="content-language" content="zh-cn"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
在 IIS 中配置 .NET 信任级别</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-AB58122A-B695-415C-9CEE-733E90BB2B18]--><body><div id="content"><div class="header"><h1>
在 IIS 中配置 .NET 信任级别</h1><div id="breadcrumb"></div></div>



<p id="GUID-8302AAF1-404F-4ABA-9AAF-5A00FA8F96FE">ArcGIS Web Adaptor 可选择使用 Internet 信息系统 (IIS) 中 Microsoft .NET 的高信任级别或中信任级别进行修改，以与 ArcGIS Server 进行通信。这适用于可授予应用程序有限权限，具有更高安全性限制的组织。</p><p id="GUID-03CF5A83-4AF2-4E35-ADD6-96A91996ACE3">当您使用 ArcGIS Server 首次配置 Web Adaptor 时，需要将信任级别设置为“完全”。完成配置，且已验证可通过 Web Adaptor URL 访问服务器后，即可使用“高”或“中”信任级别修改 Web Adaptor，以与服务器进行通信。Web Adaptor 不支持使用“低”和“最低”信任级别。无论 IIS 中的 Web Adaptor 应用程序池设置为版本 2.0 或 4.0，均可设置信任级别。</p><div class="section1" id="ESRI_SECTION1_2A9D634D6F874FDEA8E080DA521F6CBB" purpose="section1"><h2>关于 IIS 中的 Microsoft .NET 信任级别</h2><p id="GUID-1C4AE84D-FAAC-4E57-B275-1A230DE44447">在 Internet 信息系统 (IIS) 中，应用程序的信任级别可通过 .NET 代码访问安全性 (CAS) 策略确定为其授予的权限。默认情况下，IIS 将配置为“完全”信任级别，意味着为应用程序授予无限制权限。但是，在某些具有更高安全性限制的组织中，仅为应用程序授予部分信任。部分信任可被指定为以下四种级别之一：高、中、低和最低。</p></div><div class="section1" id="ESRI_SECTION1_27719036B3BE46FAB265E2E64AE82B81" purpose="section1"><h2>关于将 Microsoft .NET 信任级别和 Web Adaptor 配合使用</h2><p id="GUID-FCFA5E24-362E-4572-9732-3410C4B8D2E7">安装 Web Adaptor 时，分配给应用程序的信任级别继承自部署 Web Adaptor 的所在 IIS 网站。无论 IIS 中的 Web Adaptor 应用程序池设置为版本 2.0 或 4.0，该行为均相同。</p><p id="GUID-DEAA53B5-A483-48A8-9D4B-AE292557EDBF">如果网站的信任级别指定为“完全”，则您无需执行任何操作。您可正常使用 ArcGIS Server 配置 Web Adaptor。如果指定给 Web Adaptor 的信任级别设置为“高”和“中”，则访问配置页面时，将看到以下错误：</p><div class="section2" id="ESRI_SECTION2_26026CFD645E4EE6898F9C908CE044AC" purpose="section2"><h3></h3><p id="GUID-389A51FE-F4B7-4175-B6E8-FA96ECA3F15C"><span class="usertext">使用 ArcGIS Server 配置 ArcGIS Web Adaptor 前，必须在 IIS 中将 Web Adaptor 应用程序的 .NET 信任级别设置为“完全”。完成配置后，您可以将应用程序的信任级别设置回其初始级别，并可通过 Web Adaptor 正常访问服务器。</span></p></div></div><div class="section1" id="ESRI_SECTION1_67CCDF17F8D84D35AB85497B849AA19A" purpose="section1"><h2></h2><p id="GUID-715E8D61-90AC-45B3-9CDC-B8FDD74BD602">ArcGIS Web Adaptor 应用程序不支持“低”和“最低”级别。您将无法访问配置页面或与 ArcGIS Server 通信。因为在“低”和“最低”级别下无法与 ArcGIS 软件进行通信，您将仅能看到 IIS 错误页面。</p><p id="GUID-3B89DA3F-6193-409D-B588-5D076CD39067">当您<a class="xref" rel="01n1/01n100000017000000.htm" href="01n1/01n100000017000000.htm">使用 ArcGIS Server 首次配置 Web Adaptor</a>时，需要将信任级别设置为“完全”。配置后，可将 Web Adaptor 修改为“高”信任级别或“中”信任级别。在“高”或“中”信任级别上支持使用 Web Adaptor 转发请求。按照以下步骤修改信任级别。</p></div><div class="section1" id="ESRI_SECTION1_CCF97266DF244455BD28B0C88975E170" purpose="section1"><h2>修改 Web Adaptor 的信任级别</h2><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_C91C158362EC4D7399F41E49B152DECF"><div class="step_title">步骤：</div><ol><li purpose="step" id="ESRI_STEP_8C392FA3D9FD4A73B6EE8FAAF55C7036"><span purpose="cmd" id="GUID-DD86CD97-E2AD-4D14-9F5A-5B060A558BA7">打开 Internet 信息系统 (IIS) 管理器。</span></li><li purpose="step" id="ESRI_STEP_922EB94541044323BFF70919CB8FF9B9"><span purpose="cmd" id="GUID-11156ADE-167F-4534-BD16-AEE27824898C">在<span class="uicontrol">连接</span>窗格中，展开<span class="uicontrol">站点</span>。</span></li><li purpose="step" id="ESRI_STEP_6F5C4FA4D80C4AC9B11267FF3FA28398"><span purpose="cmd" id="GUID-E2EA5707-42F4-4333-A77B-514F64E05E34">展开部署 Web Adaptor 的网站，然后选择“Web Adaptor 应用程序”。</span></li><li purpose="step" id="ESRI_STEP_93C72A3A13604D8785C34E9011A4008C"><span purpose="cmd" id="GUID-CED9C676-76E8-4FD8-8AD3-3941B62E5D58">双击 <span class="uicontrol">.NET 信任级别</span>。</span></li><li purpose="step" id="ESRI_STEP_1E463EAF163C4B8E90C2B80C4BDEA5E5"><span purpose="cmd" id="GUID-F1E1F88B-3815-48EB-97EC-2ACA00504283">根据需要，从<span class="uicontrol">信任级别</span>下拉列表中，选择<span class="uicontrol">完全（内部）</span>、<span class="uicontrol">高</span>或<span class="uicontrol">中</span>。</span></li><li purpose="step" id="ESRI_STEP_4F650845481F434D924CE894B50884A8"><span purpose="cmd" id="GUID-69571D0F-1FE7-4343-81DB-AD9576FE4C12">单击<span class="uicontrol">应用</span>。</span></li></ol></div></div></div><div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>