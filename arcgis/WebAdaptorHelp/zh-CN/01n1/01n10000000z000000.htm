<html lang="zh-cn" xml:lang="zh-cn"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="ArcGIS Server 站点由多个组件构成，这些组件可以分别部署到多台计算机上以提高计算能力。"><meta name="content-language" content="zh-cn"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - ArcGIS Server 站点内部</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-4400682E-CF2C-4731-AAE0-81B6E8B9F12A]--><body><div id="content"><div class="header"><h1>ArcGIS Server 站点内部</h1><div id="breadcrumb"></div></div>
<p id="GUID-68578057-B178-458C-892B-3565E47ADC69"><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点由多个组件构成，这些组件可以分别部署到多台计算机上以提高计算能力。在对分配给一组服务的资源进行管理的过程中，站点中的各个组件都有着明确的分工。</p>
<p id="GUID-B31B8E4B-ADEF-44A2-8306-98502744EF1C"><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点的组件可以归纳如下：</p>
<ul purpose="ul" id="UL_1DF2A400E28246B980D2A0DCF1745D81">
<li purpose="li" id="GUID-7A4B3783-77B1-4B56-AA3B-BB08A191180B">Web 服务器 - 用于托管 web 应用程序并向 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 提供可选的安全和负载平衡好处。</li><li purpose="li" id="LI_B394C0521FA042C7AE2E87FAD3CD2201">Web Adaptor - 将 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 与企业级 web 服务器相集成，从而将收到的请求发送给多台 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机。</li><li purpose="li" id="GUID-10ADA210-B0E0-428D-8FDC-CCD2E20624EC"><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> - 用于处理发布到 GIS web 服务的请求。<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 可绘制地图、运行工具、提供影像、同步数据库、投影几何、搜索数据以及执行 ArcGIS 所提供的其他众多操作。</li>
</ul>
<p id="GUID-A397EADB-03C9-4EA5-813B-FBA3211A6649"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-D6EBE1B2-D598-43CB-94BD-1CADA02AB1A2-web.png" purpose="img" alt="站点架构" title="站点架构"></td></tr></table></div></p><p id="GUID-2474952D-A157-4975-9BF2-31DE79CC1184">本主题对各组件进行了概述并包含各附加信息的链接，以帮助您有效地管理 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点。</p><div class="section1" id="GUID-D4C56518-9FA0-475C-9BB6-18227CA2F26A" purpose="section1"><h2>web 服务器</h2><p id="GUID-090EE753-14D2-4458-A5E5-714E46161904">Web 服务器可以托管 Web 应用程序，并为 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点提供可选的安全和负载平衡优势。<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 与许多流行的 Web 服务器相兼容，包括 Internet 信息服务 (IIS)、WebSphere 和 WebLogic。</p><p id="GUID-F461EB75-DED2-40A9-B88A-135E9407EBEF"><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 组件通过 HTTP 直接对外暴露服务，无需使用单独的专用 Web 服务器（如 IIS）。但是，如果要利用 web 服务器的一些固有安全优势（如身份验证选项），或者如果要托管 web 应用程序，则您可以在部署中加入 web 服务器。</p></div><div class="section1" id="ESRI_SECTION1_39EF602C51DF4241A4019F725A403939" purpose="section1"><h2><span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span></h2><p id="GUID-41B6CF9E-C2BB-43FB-A797-A961F265E872"><span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> 实际上是一个将请求从 Web 服务器转发到 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 的 Web 应用程序。<span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> 可追踪站点中添加和删除计算机的状况并将数据恰当地转发到相应的计算机。使用 <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> 可为站点自行设置名称和端口，而不必使用默认端口 6080 和默认站点名称 arcgis。<span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> 还允许您充分利用 Web 服务器的内置功能实现安全设置，并且可以阻止所有至 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> Manager 和 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 管理员目录的外部连接。</p><p id="GUID-DE15807A-649E-4D5F-8656-BD63E60AEBFD">收到 web 服务请求后，<span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> 将请求转发到其中一台 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机上。如果 <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> 确定某个 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机不可用，则将停止向该服务器转发请求。</p><div class="section2" id="ESRI_SECTION2_4420B9503632419CA1CC9167F2A73CC3" purpose="section2"><h3>其他 web 网关选项</h3><p id="GUID-0BE401F8-88DD-4EAC-B56B-255ED7F4AAA3">Web Adaptor 并不是用于配置站点的 Web 网关（或入口点）的唯一方式。其他 Web 网关技术可以包括物理 HTTP 负载均衡器和网络路由设备，也可以包括专用于负载平衡的第三方软件。在 Amazon EC2 环境中，Amazon 弹性负载均衡器 (ELB) 可以作为 Web 网关。如果您所在的组织已使用现有技术实现 web 网关，则多数情况下，经过相应调整后就可以配合 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 使用。</p><p id="GUID-79492C1E-7148-461C-A9EA-BF58BDD7BFD2">尽管 Web 网关和 Web 服务器经常会结合使用，但是部署中存在 Web 网关并不意味着一定会存在 Web 服务器。例如，如果您的 web 网关是物理路由器，则它可以将请求直接发送到 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 而无需使用 web 服务器。</p></div></div><div class="section1" id="GUID-D436CE01-28A1-408B-B3AC-0CD059B74415" purpose="section1"><h2><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span></h2><p id="GUID-FCAE424C-4838-4201-B7F5-AE90ECAAC0B1">针对地图、地址坐标、地理处理作业等所收到的每个 Web 服务请求都将被分配到此站点中的可用 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机。接下来，此 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 就会执行绘制地图、查找地址坐标、运行地理处理工具等工作，并将结果返回到客户端。实际上，<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机是站点的工作中心。</p><p id="GUID-EAF45073-93E2-4E5A-B254-8346CA06A1FE"><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 通过 HTTP 直接对外暴露服务。为了获取附加功能，可以使用运行 Web Adaptor 的专用 Web 服务器对此服务器进行补充。</p><p id="GUID-6DA39D23-BA39-4499-9DB7-266CF71772AC">您可能会发现有必要在 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点中配置多个 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机，以防止某个计算机不可用时出现停机。当某个计算机转为离线时（无论是否经过计划），Web Adaptor 仍可以继续将收到的请求分发到站点中的其他 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机上。</p><p id="GUID-AD684185-8F73-4693-ADBD-6FC3EFCDC3EE">以上 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点组件可以位于同一台物理计算机上，以用于开发、测试或支持小型部署。要了解有关小型和大型站点中建议使用的架构，请参阅<a class="xref" rel="01n1/01n10000000m000000.htm" href="01n1/01n10000000m000000.htm">部署方案</a>。</p><div class="section2" id="ESRI_SECTION2_0AA9C95C5D6044CEBEB584ED56E193E3" purpose="section2"><h3><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 集群</h3><p id="GUID-BCD7EE15-59F1-42F6-92A7-1B9D72DCB8C8"><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机可按组（称为集群）进行组织。按照站点管理员的配置，每个集群都运行一个专门的服务子集。例如，您可以创建一个集群以运行所有地图服务，然后创建另一个服务器集群（可能具有更高的处理能力）来运行地理处理服务。</p><p id="GUID-732D2E5D-0D57-4DE8-B122-13EBEF8DBB2A">有关集群的详细信息，请参阅主题<a class="xref" target="_blank" rel="http://server.arcgis.com/zh-cn/server/latest/administer/windows/about-gis-server-clusters.htm" href="http://server.arcgis.com/zh-cn/server/latest/administer/windows/about-gis-server-clusters.htm">关于 ArcGIS Server 集群</a>。</p></div><div class="section2" id="ESRI_SECTION2_939F127B82D3419DBBDBB474113C3079" purpose="section2"><h3>配置存储</h3><p id="GUID-292FD9BF-8A9E-4EB6-A96D-88CC0872E322"><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点包含一个指定为配置存储的特定文件夹，其中包含站点及其服务的所有属性。创建站点时需要指定配置存储的位置。在一个多机站点中，<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机通过一个共享网络目录对配置存储进行访问。在包含多个 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机的站点中，建议将配置存储保留在其自己的容错文件服务器中（独立于 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机）。</p></div><div class="section2" id="GUID-ADDAB24D-A29A-490D-90A3-DF9F81F8F574" purpose="section2"><h3>服务器目录</h3><p id="GUID-6DB5792D-EEC4-4F59-9313-A8CB421A3B94">服务器目录表示网络上的物理目录，专供 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 站点存储和写入特定类型的信息。服务器目录分为多种，分别用于存储缓存、输出结果、作业、系统文件、上传的数据、输入数据、KML 和索引。这些服务器目录通常创建于在创建站点时所指定的位置。在一个包含多台计算机的站点中，该目录必须是一个共享网络目录。</p><p id="GUID-E6D261EE-4312-43E3-8DB6-B124E4DEF7C0">有关每个服务器目录的详细描述，请参阅主题<a class="xref" target="_blank" rel="http://server.arcgis.com/zh-cn/server/latest/administer/windows/about-server-directories.htm" href="http://server.arcgis.com/zh-cn/server/latest/administer/windows/about-server-directories.htm">关于服务器目录</a>。</p></div><div class="section2" id="ESRI_SECTION2_FA86D65036FB4C7DA48FEA6F90D97E4A" purpose="section2"><h3>通过 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 启动的进程</h3><p id="GUID-A5F17773-D37A-45AD-A561-CBAA1A102583">您可以在任何处于启动状态并参与到站点中的 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 计算机上看到下列操作系统进程。</p><ul purpose="ul" id="UL_C3B79A4B9F12452F8F303026F1D41E6F" ishcondition="(srv_os=windows) or (srv_platform=dotnet)"><li purpose="li" id="LI_0FDB53C05C934DA49A5708458A58891D">一个 ArcGISServer.exe 进程</li><li purpose="li" id="LI_8AF891CBB62144E1AB3D26DC00ED4256">每个运行中的服务实例均对应一个 ArcSOC.exe 进程。例外：地理处理服务每个运行中的实例都对应两个 ArcSOC.exe 进程。</li><li purpose="li" id="LI_7697D541216E44D5B47467C0DFC94F0D">一个 rmid.exe 进程</li><li purpose="li" id="LI_6A439D6C20814CF681C3EA76CEE60F1C">两个 javaw.exe 进程。这些进程提供了基本的应用程序服务器功能和 Web 服务托管能力。</li><li purpose="li" id="LI_0927CA9E75084F59AE5562AE80D141C6">两个 conhost.exe 进程和一个 cmd.exe 进程。这些是由 Windows 启动以向 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 进程提供控制台服务的补充进程。</li></ul><p id="GUID-77E1D201-F170-4430-8D1F-3303E8463710" ishcondition="(srv_os=windows) or (srv_platform=dotnet)">通过查看 Windows 任务管理器中的“命令行”列，可以判断 javaw.exe 进程是否与 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 关联。如果路径中包括 ArcGIS 安装目录，可断定它是与 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 关联的进程。通过检查其完整命令，可以获取各进程的详细信息。</p><p id="GUID-DB611ACC-1631-4715-B4CD-439C4EBEC141" ishcondition="(srv_os=windows) or (srv_platform=dotnet)"> Windows 服务 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 代表 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> 本身。停止该服务可完全停止计算机上的 <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>，并关闭所有正在运行的 GIS 服务实例。</p></div></div>
<div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>