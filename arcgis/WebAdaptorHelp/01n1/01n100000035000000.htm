<html lang="en" xml:lang="en"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="Configure the options for the ArcGIS Web Adaptor system memory cache when using web-tier authentication."><meta name="content-language" content="en"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Configure ArcGIS Web Adaptor memory cache options
</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-070AFEC5-DE9F-49D1-9019-C5350B73D24F]--><body><div id="content"><div class="header"><h1>
Configure ArcGIS Web Adaptor memory cache options
</h1><div id="breadcrumb"></div></div>
<p id="GUID-B6D4217C-6336-442A-B229-7FA63AE8931E"> When an authenticated user accesses an ArcGIS Server resource and web-tier authentication has been enabled using <span purpose="ph" varid="WebAdaptforArcGISIIS" translate="no">ArcGIS Web Adaptor (IIS)</span>, the Web Adaptor retrieves the user's role membership list from Active Directory. Repeated calls to Active Directory to obtain a user's role list negatively impacts performance of both Active Directory and ArcGIS Server. To optimize performance, the Web Adaptor caches the list of roles that a user is a member of.</p><p id="GUID-1CDC5BEE-8AAD-41B2-94FD-49D5E74EBF3E">  In an out-of-the-box installation of <span purpose="ph" varid="WebAdaptforArcGISIIS" translate="no">ArcGIS Web Adaptor (IIS)</span>, a user's roles are cached either in a cookie managed by the web browser or in the primary system memory (RAM) of the web server hosting the Web Adaptor. If the size of a user's role list is less than 4KB, the list is stored as a cookie by the web browser. If the list is 4KB or larger, it is managed in the system memory.</p><p id="GUID-EA9D29F6-6927-4812-814E-C85A6257BE3A"> If a user's role list is stored in the web browser cookie cache, it expires in one minute. The <span purpose="ph" varid="WebAdaptforArcGISIIS" translate="no">ArcGIS Web Adaptor (IIS)</span> system memory cache for a user's role list is configurable and its properties are managed in the <span class="usertext">RoleCache</span> element defined in the <span class="usertext">C:\inetpub\wwwroot\{Web Adaptor name}\WebAdaptor.config</span> file. The following section describes the <span class="usertext">RoleCache</span> element and its properties.</p><div class="codeblock" purpose="codeblock"><div class="codeblockdesc" purpose="codeblockdesc"></div><div class="highlight"><pre><code>&lt;RoleCache&gt;
    &lt;NumberOfUsers&gt;100&lt;/NumberOfUsers&gt;
    &lt;Expiration&gt;5&lt;/Expiration&gt;
    &lt;Enabled&gt;true&lt;/Enabled&gt;
    &lt;CacheAllRolesInMemory&gt;false&lt;/CacheAllRolesInMemory&gt;
&lt;/RoleCache&gt;
</code></pre></div>
</div>
<div class="block_table" id="TABLE_EF8BAAF0FDF64239B08FED5D5B915E86" purpose="block_table"><span class="table_title"></span><table class="table"><colgroup width="*"></colgroup><colgroup width="*"></colgroup><tbody><tr><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-D8F520D0-4B12-441C-8F71-C596237D681B"><b>Property</b></p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-DC30A72B-4E44-4F87-9C2B-1216823822B9"><b>Description</b></p></td></tr><tr><td purpose="entry" rowspan="1" colspan="1"><span class="usertext">NumberOfUsers</span></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-2BC513E0-7140-441A-B05A-31195274C561">This property limits the number of users that can have their role membership list stored in the system memory.</p></td></tr><tr><td purpose="entry" rowspan="1" colspan="1"><span class="usertext">Expiration</span></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-E5179A5F-CBC2-4246-B7F7-185B07C05539">This property defines the amount of time, in minutes, that a user's list is stored in the system memory. The maximum recommended value for this property is one day (or 1,440 minutes).</p></td></tr><tr><td purpose="entry" rowspan="1" colspan="1"><span class="usertext">Enabled</span></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-F8500AB5-C7AE-427A-973C-ABEF5F309003">This property is used to disable the system memory cache. Disabling the system cache is not recommended.</p></td></tr><tr><td purpose="entry" rowspan="1" colspan="1"><span class="usertext">CacheAllRolesInMemory</span></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-C237AC7D-3C6E-4E28-9B4E-A8B76EA87F42">If this property is set to <span class="usertext">true</span>, the cookie cache is disabled and only the system memory is used to cache the role membership list for all users.</p></td></tr></tbody><caption class="table_desc"></caption></table></div><div class="footer"> Copyright Â© 1995-2017 Esri. All rights reserved. </div></div></body></html>