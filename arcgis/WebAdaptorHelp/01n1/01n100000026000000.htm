<html lang="en" xml:lang="en"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="To secure network communication between the ArcGIS Web Adaptor and Portal for ArcGIS, the use of HTTPS is required.   This will help prevent any communication sent between the two components from potentially being intercepted, deciphered, or altered."><meta name="content-language" content="en"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Enable HTTPS on your web server</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-66793700-6334-4C7C-9BA6-5D0058C2F343]--><body><div id="content"><div class="header"><h1>
Enable HTTPS on your web server</h1><div id="breadcrumb"></div></div>
<p id="GUID-2BA75BF9-0150-4074-BB9D-F712637AABFF">The HTTPS protocol is a standard security technology used to establish an
encrypted link between a web server and a web client. HTTPS facilitates secure network communication by
identifying and authenticating the server as well as ensuring the
privacy and integrity of all transmitted data.   Since HTTPS prevents eavesdropping on or tampering with information
sent over the network, it should be used with any login or
authentication mechanism and on any network where communication
contains confidential or proprietary information.</p><p id="GUID-C75DB9CA-EF0E-4071-83A3-998511312AFC">  To encrypt communication between the <span purpose="ph" varid="WebAdaptorforArcGIS" translate="no">ArcGIS Web Adaptor</span> and <span purpose="ph" varid="PortalForArcGIS" translate="no">Portal for ArcGIS</span>, the use of HTTPS on port 443 is required.   No other port can be used.   The use of HTTPS ensures that names, passwords, and other sensitive information cannot be deciphered as they are sent between <span purpose="ph" varid="WebAdaptorforArcGIS" translate="no">ArcGIS Web Adaptor</span> and the portal. When you use HTTPS, you connect to your web pages and resources using the HTTPS protocol instead of HTTP.</p><p id="GUID-F679CE35-9EFA-44B1-AA21-1EC48266E69F">You need to obtain a server certificate and bind it to the website that hosts <span purpose="ph" varid="WebAdaptorforArcGIS" translate="no">ArcGIS Web Adaptor</span>.   Each web server has its own procedure for loading a certificate and binding it to a website.</p><p id="GUID-8E0CCD76-ABE0-48B8-BBDD-4A996FEE7965"> Ensure also that your web server is set to ignore client certificates in order to correctly access secure services over HTTPS.</p><div class="section1" id="GUID-785B4C5F-085D-4297-9AEA-67983BC08354" purpose="section1"><h2>
Create a server certificate</h2><p id="GUID-9D19EEED-5546-4A34-8529-D79B67B47352">
To be able to create an HTTPS connection between <span purpose="ph" varid="WebAdaptorforArcGIS" translate="no">ArcGIS Web Adaptor</span> and your portal, the web server requires a server certificate. A certificate is a digital file that contains information about the
identity of the web server. It also contains the encryption
technique to use when establishing a secure channel between the web
server and the portal. A certificate must be created by the
owner of the website and digitally signed.  There are three types of certificates—CA-signed, domain, and self-signed—which are explained below.</p><div class="section2" id="ESRI_SECTION2_B89E43031B974D188D07F92121765C41" purpose="section2"><h3>CA-signed certificates</h3><p id="GUID-83FE3C84-5F63-4236-A1A7-7E187A4D0998">Certificate authority (CA) signed certificates should be used for production systems, particularly if your deployment of Portal for ArcGIS is going to be accessed from users outside your organization.  For example, if your portal is not behind your firewall and accessible over the Internet, using a CA-signed certificate assures clients from outside your organization that the identity of the  website has been verified.</p><p id="GUID-279CB780-6191-4422-8222-DAF7B3EB427E">In addition to
being signed by the owner of the website, a certificate may be
signed by an independent CA. A CA is
usually a trusted third party that can attest to the authenticity
of a website. If a website is trustworthy, the CA adds its own
digital signature to that website's self-signed certificate.
This assures web clients that the website's identity has been
verified.</p><p id="GUID-F3F43E4C-31EB-4044-97FA-51C81B87B59D">When using a
certificate issued by a well-known CA, secure communication between
the server and the web client occurs automatically with no special
action required by the user. There is no unexpected behavior or warning message displayed
in the web browser, since the website has been verified by the CA.</p></div><div class="section2" id="ESRI_SECTION2_687826F11C604E38BAE007786F342346" purpose="section2"><h3>Domain certificates</h3><p id="GUID-C915BA02-ED9C-47E0-8DEC-09CC1C746515"> If  your portal is located behind your firewall and using a CA-signed certificate is not possible, using a domain certificate is an acceptable solution.   A domain certificate is an internal certificate signed by your organization's certificate authority.  Using a domain certificate helps you reduce the cost of
issuing certificates and eases certificate deployment, since certificates can be generated quickly within your organization for trusted internal use.</p><p id="GUID-24E5A858-4657-496C-B107-C41DA4AD9042">Users within your domain will not experience any of the unexpected behavior or warning messages normally associated with a self-signed certificate, since the website has been verified by the domain certificate.  However, domain certificates are not validated by an external CA, which means users visiting your site from outside your domain will not be able verify that your certificate really represents the party it claims to represent.     External users will see browser warnings about the site being untrusted which may lead them to think they are actually communicating with a malicious party and be turned away from your site.</p><div class="section3" id="ESRI_SECTION3_8DB486A77CA74D9CB4E95ECFC646FDBA" purpose="section3"><h4>Create a domain certificate in  IIS</h4><p id="GUID-5C923A3E-0893-449B-B313-8423CD683FE4">In IIS Manager, do the following to create a domain certificate:</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_C7ECAB12725B49E2B285BB2212190EE2"><div class="step_title">Steps:</div><ol><li purpose="step" id="ESRI_STEP_29A4307BFCF8438D8E09C4F464EDA280"><span purpose="cmd" id="GUID-53C3E3B7-C9F5-4F1F-A37C-4AA18FD794A3">In the <span class="wintitle">Connections</span> pane, select your server in the tree view and double-click <span class="uicontrol">Server Certificates</span>.</span><div class="info" purpose="info"><p id="GUID-4911C1FB-1F8D-485B-B4A2-21EB76BA114A"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-CEB106EE-085F-487D-B723-330BC3388557-web.jpg" purpose="img" alt="Server Certificates icon in IIS Manager" title="Server Certificates icon in IIS Manager"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_90BD76AC7D8E4190A07DF4A1AB26BFE8"><span purpose="cmd" id="GUID-EDE18D50-44D2-4B1D-B071-7FEB7DEC0DC9">In the <span class="wintitle">Actions</span> pane, click <span class="uicontrol">Create Domain Certificate</span>.</span><div class="info" purpose="info"><p id="GUID-ABC07EE3-6A1B-45BD-8580-A3118AC1B0DC"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-531FAB13-86B2-4E47-98B8-5094F47D34FB-web.png" purpose="img" alt="Create Domain Certificate link in IIS Manager" title="Create Domain Certificate link in IIS Manager"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_57EDFDEFBB6E46278F07C34A989F7B08"><span purpose="cmd" id="GUID-6E13C609-BE9A-446E-B3C6-20F928655191">In the <span class="wintitle">Distinguished Name Properties</span> dialog box, enter the required information for the certificate:</span><div class="substeps" id="ESRI_SUBSTEPS_24A37F03FD4447FE82D9013AFE522905" purpose="substeps"><ol><li purpose="substep" id="ESRI_SUBSTEP_40D86F2C95AB4817AAA718319BA80BAA"><span purpose="cmd" id="GUID-12800908-08EB-4F46-AF27-0BB716CAD383">For the <span class="uicontrol">Common name</span>, you must enter the fully qualified domain name of the machine, for example, <span class="usertext">portal.domain.com</span>.</span></li><li purpose="substep" id="ESRI_SUBSTEP_D8719BF9BD474DA3925A96FB6D253AFF"><span purpose="cmd" id="GUID-9F35022E-CC2F-48AA-9BC5-BE5735A2671E">For the other properties, enter the information specific for your organization and location.</span><div class="info" purpose="info"><p id="GUID-F8ED79EC-CFB0-4400-BE8F-88967F261677"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-60E84EFD-E886-4CE9-87BC-B511E9B4900A-web.png" purpose="img" alt="Distinguished Name Properties dialog box in IIS Manager" title="Distinguished Name Properties dialog box in IIS Manager"></td></tr></table></div></p></div></li></ol></div></li><li purpose="step" id="ESRI_STEP_CA345F8E72334B7F8A14BF4DF6E9DD55"><span purpose="cmd" id="GUID-731CA486-E2A3-4BDC-90BB-E2DCDF9575FD">Click <span class="uicontrol">Next</span>.</span></li><li purpose="step" id="ESRI_STEP_7EBB8F0C806F404CAD1C8FBB44A0F17E"><span purpose="cmd" id="GUID-A56E7C49-267C-42B7-92DB-231EA7F0CA00">In the <span class="wintitle">Online Certification Authority</span> dialog box, click <span class="uicontrol">Select</span> and choose the certification authority within your domain that will sign the certificate.  If this option is unavailable, enter your domain certification authority in the <span class="uicontrol">Specify Online Certification Authority</span> field, for example, <span class="usertext">City Of Redlands Enterprise Root\REDCASRV.empty.local</span>.  If you need help with this step, consult your system administrator.</span><div class="info" purpose="info"><p id="GUID-6DACCDF3-AD85-48B8-B9F2-2DAE9D57F127"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-86A49A2E-285F-4D31-9617-091016B3F6F3-web.png" purpose="img" alt="Online Certification Authority dialog box in IIS Manager" title="Online Certification Authority dialog box in IIS Manager"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_E53F897B748644B58F3E445DD1CF929E"><span purpose="cmd" id="GUID-21F1EF44-FC5A-4CF1-8F26-A2A762B99BD6">Enter a user-friendly name for the domain certificate and click <span class="uicontrol">Finish</span>.</span></li></ol></div><div class="result" id="ESRI_RESULT_B14F099C32A04FF28F9BB92F478C84B5" purpose="result"><p id="GUID-F22639B5-6D45-4272-923C-807988F7A751">The final step is for you to bind the domain certificate to HTTPS port 443.  See <span class="uicontrol">Binding the certificate to the website</span> below for instructions.</p></div></div></div></div><div class="section2" id="ESRI_SECTION2_EE5D2BB7BDB844EB8B3F15A9774975DB" purpose="section2"><h3>Self-signed certificates</h3><p id="GUID-971AFDF1-E1E9-4B35-8EDB-B58113DC956A">Creating a self-signed certificate    should not be considered a valid option for a production environment as it will lead to unexpected results and a poor experience for all users of the portal.</p><p id="GUID-A273BB9B-83F2-49B9-A79A-053BA864C975">A certificate signed only by the owner of the website is
called a self-signed certificate. Self-signed certificates are
commonly used on websites that are only available to users on the
organization's internal (LAN) network. If you communicate with a website outside your own network that uses a self-signed certificate, you have no way to verify that the site issuing the certificate really represents the party it claims to represent. You could actually be communicating with a malicious party, putting your information at risk.</p><p id="GUID-316C35E4-C753-4E03-8F7C-76685CAA6EA3">When you first set up the portal, you might use a self-signed certificate to do some initial testing to help you quickly verify that your configuration was successful.  However, if you use a self-signed certificate, beware that you will experience the following when testing:</p><ul purpose="ul" id="UL_681CA6D6F5EB4E4686CA2FE06BD0ABEF"><li purpose="li" id="LI_4E4AB5F941DE4CD28831FB16318B7A08">Web browser and <span purpose="ph" varid="ArcGISforDesktop" translate="no">ArcGIS Desktop</span> warnings about the site being untrusted.   When a web browser encounters a self-signed certificate, it will typically display a warning and ask you to confirm that you want to proceed to the site. Many browsers display warning icons or a red color in the address bar as long as you are using the self-signed certificate. You should expect to  see these type of warnings if you configure your portal with a self-signed certificate.</li><li purpose="li" id="LI_7F50415F12DC48CAB4D92F2E0089005B">Inability to open a federated service in <span purpose="ph" varid="AGMapViewer" translate="no">Map Viewer</span>, add
a secured service item to the portal, log in to ArcGIS Server Manager on a
federated server, and connect to the portal from Esri Maps for
Office.</li><li purpose="li" id="LI_8E6A08429E51451CBD6C6BAD51709E7F">Unexpected behavior when printing hosted services and accessing the
portal from client applications.</li><li purpose="li" id="LI_580482AE778F44FCAD930B398049AA30"> Inability to sign in to the portal from Esri Maps for Office unless the self-signed certificate is installed into the <span class="uicontrol">Trusted Root Certification Authorities</span> certificate store on the machine running Esri Maps for Office.</li></ul><div class="notes" id="GUID-5776C480-8E2E-429B-B827-2CF35926329B"><div class="caution"><img class="note_img" src="rsrc/caution.png" alt="Caution" title="Caution"><span>Caution:</span></div><div class="tipbody"><p id="GUID-6FA072A8-20C2-4313-991F-7F290D559D38">The above list  of issues you will experience when using a self-signed certificate is not exhaustive.   It is recommended that you use a domain certificate or CA-signed certificate to fully test and deploy your portal.</p></div></div><div class="section3" id="ESRI_SECTION3_54C55BB5349146C28CBFA09AC0191C89" purpose="section3"><h4>Create a self-signed certificate in  IIS</h4><p id="GUID-F3002672-B32C-4BCA-9427-D8F0A458A182">In IIS Manager, do the following to create a self-signed certificate:</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_C4E47853EFB54B3EBF307CBEA713CE01"><div class="step_title">Steps:</div><ol><li purpose="step" id="ESRI_STEP_78502F379BB14228918C11CA7FB2A7FF"><span purpose="cmd" id="GUID-056F26E2-9B5E-4921-802F-458161622AD7">In the <span class="wintitle">Connections</span> pane, select your server in the tree view and double-click <span class="uicontrol">Server Certificates</span>.</span><div class="info" purpose="info"><p id="GUID-81A19C26-0BCE-4D91-B8F9-F7D0F26D384F"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-CEB106EE-085F-487D-B723-330BC3388557-web.jpg" purpose="img" alt="Server Certificates icon in IIS Manager" title="Server Certificates icon in IIS Manager"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_91FDECCA3A5C4763909CEA682851854B"><span purpose="cmd" id="GUID-3CFF9A30-6C7E-49CF-86B4-CE2DA194235D">In the <span class="wintitle">Actions</span> pane, click <span class="uicontrol">Create Self-Signed Certificate</span>.</span><div class="info" purpose="info"><p id="GUID-CD1BED4A-F800-43F0-BAEC-E197504B03BC"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-E6517557-3953-408A-948C-56C223DF774F-web.jpg" purpose="img" alt="Create Self-Signed Certificate link in IIS Manager" title="Create Self-Signed Certificate link in IIS Manager"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_782899B3E3CC487A96E4F7D6A491EA16"><span purpose="cmd" id="GUID-ECFC2085-5DBF-4353-A85A-82A56C68B4DC">Enter a user-friendly name for the new certificate and click <span class="uicontrol">OK</span>.</span></li></ol></div><div class="result" id="ESRI_RESULT_0A71E9F1487F40E381A9DA3E8CA4A295" purpose="result"><p id="GUID-A3E04ABF-0953-4897-9C10-3BEED876FAFD">The final step is for you to bind the self-signed certificate to HTTPS port 443.  See <span class="uicontrol">Binding the certificate to the website</span> below for instructions.</p></div></div></div></div></div>
<div class="section1" id="ESRI_SECTION1_BE7A330F475C4A38B5A54902F2302EE8" purpose="section1"><h2>Bind the certificate to the website</h2><p id="GUID-E452DB07-F04B-40AD-931F-D8A1689762E2">Once you've created a certificate, you'll need to bind it to the website hosting <span purpose="ph" varid="WebAdaptorforArcGIS" translate="no">ArcGIS Web Adaptor</span>.  Binding refers to the process of configuring the certificate to use port 443 on the website.  The instructions for binding a certificate with the website vary depending on the platform and version of your web server.   For instructions, consult your system administrator or your web server's documentation. <span purpose="ph" ishcondition="(srv_os=windows) or (srv_platform=dotnet)">For example, the steps for binding a certificate in IIS are below.</span></p><div class="section2" id="ESRI_SECTION2_95194E03F9484B4BA2B8A88DA26E88AA" purpose="section2"><h3>Bind a certificate to port 443 in IIS</h3><p id="GUID-FBEB7327-042A-435F-A520-1DD08B1EEF14">In IIS Manager, do the following to bind a certificate to HTTPS port 443:</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_7A6F9ED814DD45B09FEC1A2A52788497"><div class="step_title">Steps:</div><ol><li purpose="step" id="ESRI_STEP_4750AC84882D499EB71144827F731488"><span purpose="cmd" id="GUID-19FD7BF0-15CF-4200-83AC-776B0933D658">Select your site in the tree view and in the <span class="wintitle">Actions</span> pane, click <span class="uicontrol">Bindings</span>.</span><ul purpose="choices" id="ESRI_CHOICES_0F4ADDB79E594BF4A97600DCBE1DFB97"><li purpose="choice" id="ESRI_CHOICE_434E7F4762EA4D219AA63796CD73538E">If port 443 is not available in the Bindings list, click <span class="uicontrol">Add</span>.  From the <span class="uicontrol">Type</span> drop-down list, select <span class="uicontrol">https</span>. Leave the port at 443.<p id="GUID-66E4E4D8-F292-4441-98DF-B02DF02F6ED8"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-D962B15F-5F12-4170-88BD-BBBDEBD36C87-web.jpg" purpose="img" alt="Site Bindings list in IIS Manager" title="Site Bindings list in IIS Manager"></td></tr></table></div></p></li><li purpose="choice" id="ESRI_CHOICE_0F336D7EB4364677B9CED96D0CE57A81">If port 443 is listed, select the port from the list and click <span class="uicontrol">Edit</span>.</li></ul></li><li purpose="step" id="ESRI_STEP_8C08EADA415E48D1B2A1928DB657F0C3"><span purpose="cmd" id="GUID-96540C5F-EA39-4297-A630-F18A522B60F5">From the certificate drop-down list, select your certificate name and click <span class="uicontrol">OK</span>.</span><div class="info" purpose="info"><p id="GUID-18C60A7E-BFDD-4D29-84CA-2B6F03CEB214"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-ACD6B980-2002-4708-8781-7F58B8E82CC7-web.jpg" purpose="img" alt="New binding in IIS Manager" title="New binding in IIS Manager"></td></tr></table></div></p></div></li></ol></div></div></div></div>

<div class="section1" id="ESRI_SECTION1_B238988DBBB14772B62FE651B2568ADE" purpose="section1"><h2>Test your site</h2><p id="GUID-7CA72D24-1215-4817-9E2D-AF1B2701D0F5">After binding the certificate to the website, you can configure your Web Adaptor for use with the portal. You will need to access the <span purpose="ph" varid="WebAdaptorforArcGIS" translate="no">ArcGIS Web Adaptor</span> configuration page using an HTTPS URL such as <span class="usertext">https://webadaptorhost.domain.com/webadaptorname/webadaptor</span>.</p><p id="GUID-9CF112D4-885C-44F0-AFC5-7A1568F6FD87">After you've configured your Web Adaptor, you should test  that HTTPS is working properly by making an HTTPS request to the portal website, for example, <span class="usertext">https://webadaptorhost.domain.com/webadaptorname/home</span>.    If you are testing with a self-signed certificate, dismiss the browser warnings about untrusted connections. This usually involves adding an exception to your browser so that it will allow you to communicate with the site that is using a self-signed certificate.</p><p id="GUID-5F4D505C-FB09-4D8A-98AB-A0BC7C4A1D93">To learn more about using SSL in your portal deployment, see  <a class="xref" target="_blank" rel="http://server.arcgis.com/en/portal/latest/administer/windows/security-best-practices.htm" href="http://server.arcgis.com/en/portal/latest/administer/windows/security-best-practices.htm">Security best practices</a>.</p></div><div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>