<html lang="en" xml:lang="en"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="After you install ArcGIS Web Adaptor, you must configure it to work with an ArcGIS Server site."><meta name="content-language" content="en"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Configure ArcGIS Web Adaptor</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-C0DDCC11-5FFE-48BD-BFB8-C954161098D2]--><body><div id="content"><div class="header"><h1>
Configure ArcGIS Web Adaptor</h1><div id="breadcrumb"></div></div>
<p id="GUID-213F47AB-43E1-4749-A84C-D394A1C46C52">After you install <span purpose="ph" varid="WebAdaptorforArcGIS" translate="no">ArcGIS Web Adaptor</span>, you must configure it to work with an <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site. You'll do this from a configuration web page or from a command line utility that was installed with the Web Adaptor.  As a security measure, you can only access the configuration page and command line utility from the machine hosting the Web Adaptor.</p><p id="GUID-BE95A860-90B5-4C31-A132-444656BDEE80">When you open the configuration page, the current status of the Web Adaptor is displayed.  This indicates if the Web Adaptor has been previously configured.  To view the platform type and version number     of the Web Adaptor, click <span class="uicontrol">About</span> on the configuration page.</p><p id="GUID-F2786ECC-D94D-4D29-B686-57325D977ACD">For full instructions on how to configure the Web Adaptor, see one of the sections below.</p><div class="section1" id="GUID-25C6CEF4-8DC1-423C-8AFA-8A747014411B" purpose="section1"><h2>
Configuring the Web Adaptor from the configuration web page</h2><p id="GUID-789F5DA1-7630-48F1-83C6-B55E91305BBC">
  To configure the Web Adaptor from the configuration web page that was installed with the software, follow the steps below.</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="GUID-66166239-C259-4CE1-A18B-C9D9D6B36F3D"><div class="step_title">Steps:</div><ol>
<li purpose="step" id="GUID-CE7DFB6B-41E2-4207-9D2C-924A7CF7428D">
<span purpose="cmd" id="GUID-EDC8DC30-E458-4D88-AC36-3BBBC45C3B59">
Open the Web Adaptor configuration page in a web browser.  The URL is in the following format: <span class="usertext">http://webadaptorhost.domain.com/webadaptorname/webadaptor</span>.</span>
</li>
<li purpose="step" id="ESRI_STEP_1DA8586AA6914CEF8CE92CC838210945"><span purpose="cmd" id="GUID-CBF6FF3B-90C9-4783-96C0-2601EBFC511D">Select <span class="uicontrol">ArcGIS Server</span> and click <span class="uicontrol">Next</span>.</span></li><li purpose="step" id="ESRI_STEP_B069515395EC407F91221F7F46CFC73D"><span purpose="cmd" id="GUID-0D11FD08-01DB-4A0D-83DB-D9F9CCA61E36">For <span class="uicontrol">ArcGIS Server URL</span>, type the URL to one of the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> machines in your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site. This URL will be used to discover all of the machines participating in your site and register them with the Web Adaptor.  For example, the URL should take the form <span class="usertext">http://gisserver.domain.com:6080</span>.</span></li><li purpose="step" id="ESRI_STEP_B5B249B1FB114289BC6D7AF3FFF6ADAE"><span purpose="cmd" id="GUID-05A829D2-D8C4-4CF1-A6DE-649D323E65F2">Supply a user name and password for an account that has administrative privileges to the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site. Typically, you'll use the primary site administrator account user name and password you defined when you created the site.  If you disabled the primary site administrator account, you'll need to specify an account with administrative access to the site.</span></li><li purpose="step" id="ESRI_STEP_413FB9FC65D944349A06D5C64B48B82D"><span purpose="cmd" id="GUID-94B97FE6-70A8-483C-8E8E-A29149C258FF">Choose whether users can administer the site through the Web Adaptor.  By default, administration of the site through the Web Adaptor is disabled.   This is the recommended option. Here are some considerations for this option:</span><ul purpose="choices" id="ESRI_CHOICES_929CD8B4C39749FE9EF753A6124B8515"><li purpose="choice" id="ESRI_CHOICE_7F2A1551D9724AB598205D6B7B285274">When administration is disabled, external users are blocked from accessing <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>  Manager and the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>  Administrator Directory through the Web Adaptor.  Also, <span purpose="ph" varid="ArcGISforDesktop" translate="no">ArcGIS Desktop</span> users are blocked from establishing administrative or publisher connections to <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>. Keep in mind that you can still make user connections from <span purpose="ph" varid="ArcGISforDesktop" translate="no">ArcGIS Desktop</span> to <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> whether this option is enabled or disabled.</li><li purpose="choice" id="ESRI_CHOICE_0A87B409E97D4B0686826D269FA5E93C">When administrative access through the Web Adaptor is disabled, you can access Manager, the Administrator Directory, and connect to the server in <span purpose="ph" varid="ArcGISforDesktop" translate="no">ArcGIS Desktop</span>   by using a direct URL to one of the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> machines in your site.  For example<ul purpose="ul" id="UL_7D907DF6E13B4196BBE117EE00FC9C58"><li purpose="li" id="LI_63BFE045478D4C27B9704E2EE1ED0157">To access Manager, use the URL format <span class="usertext">http://gisserver.domain.com:6080/arcgis/manager</span>.</li><li purpose="li" id="LI_70BD4E1CA1284AA49079A3BE379781E7">To access the Administrator Directory, use the URL format <span class="usertext">http://gisserver.domain.com:6080/arcgis/admin</span>.</li><li purpose="li" id="LI_8ECAFAB9B7BE4898AA6CDE996047B87C">To create a server connection in <span purpose="ph" varid="ArcGISforDesktop" translate="no">ArcGIS Desktop</span>, use the URL format <span class="usertext">http://gisserver.domain.com:6080/arcgis</span>.</li></ul></li><li purpose="choice" id="ESRI_CHOICE_B43AE3DE47D74BE09D68172FE02D6084">If <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> is configured with web-tier authentication, you must enable administration through the Web Adaptor.   This allows users in your enterprise identity store with publisher and administrator privileges to publish services from <span purpose="ph" varid="ArcGISforDesktop" translate="no">ArcGIS Desktop</span>.  When the users in these roles connect to the server in   <span purpose="ph" varid="ArcGISforDesktop" translate="no">ArcGIS Desktop</span>, they must specify the Web Adaptor URL.</li></ul></li><li purpose="step" id="ESRI_STEP_2C63B6B0E239423AABB1203B373EE11D"><span purpose="cmd" id="GUID-5086FD60-C95C-4709-AB2E-B9897F9D45D8">Click <span class="uicontrol">Configure</span> to apply your settings to the  Web Adaptor.</span></li></ol></div></div><p id="GUID-2AAD61C4-CE80-4EC3-A073-0AD76F3D43CF">When the configuration is successful, you will see a list of <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> machines recognized by the Web Adaptor at the bottom of the configuration page (highlighted in green). You can return to this page at any time to see the list of recognized machines and adjust the Web Adaptor's settings.</p></div><div class="section1" id="GUID-0C0A752F-94C1-41C9-8909-B77A567C360F" purpose="section1"><h2><span purpose="ph">Configuring the Web Adaptor from the command line</span></h2><p id="GUID-78582F50-0436-4583-8C93-DB578512E629">You can configure the Web Adaptor using the command line utility (<span class="usertext">ConfigureWebAdaptor.exe</span>) in <span class="usertext">C:\Program Files (x86)\Common Files\ArcGIS\WebAdaptor\IIS\Tools</span>.</p><p id="GUID-37E75F7B-B86D-4BC1-8E15-3FCBD4B95291">The available parameters are as follows:</p><p id="GUID-AB9651F2-FDFD-4331-974C-F91B35D64622"><span class="usertext">ConfigureWebAdaptor.exe</span>  <span class="usertext">/m &lt;Mode&gt;</span> <span class="usertext">/w &lt;WebAdaptorURL&gt;</span> <span class="usertext">/g &lt;URL&gt;</span>   <span class="usertext">/u &lt;Username&gt;</span> <span class="usertext">/p &lt;Password&gt;</span> <span class="usertext">/a &lt;AdminAccessEnabled&gt;</span></p><ul purpose="ul" id="UL_CF9E020C92454670B241A29045AC1A0E"><li purpose="li" id="LI_CAEFA6C8D7D3455E927CA27DDBB2583C"><p id="GUID-85AAB02F-AAD2-432E-BFBC-C60C8275EF40"><span class="usertext">&lt;Mode&gt;</span>â€”The product mode in which the Web Adaptor will be configured.  By default, this parameter is set to <span class="usertext">server</span>, meaning that the Web Adaptor will be configured for use with <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>.  If you were configuring the Web Adaptor for use with <span purpose="ph" varid="PortalForArcGIS" translate="no">Portal for ArcGIS</span>, you would specify this parameter as <span class="usertext">portal</span>.</p></li><li purpose="li" id="LI_B47FD1C18212459F89CF3DB3121EED32"><p id="GUID-A8EB9738-FC4E-4E20-9195-3D431AE74AD7"><span class="usertext">&lt;WebAdaptorURL&gt;</span>â€”The URL of the Web Adaptor that you want to configure from the command line.  This is the same URL that would be used if you were accessing the Web Adaptor's configuration page in a web browser.   If the Web Adaptor was installed on a port other than the default of 80, you'll need to specify the port in the URL.</p></li><li purpose="li" id="LI_0BABFC6F454541F796D77D42C01FD339"><p id="GUID-9C040A84-A2AE-4B5D-89F3-EFB1F62883A8"><span class="usertext">&lt;URL&gt;</span>â€”The URL to one of the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> machines in your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site. This URL will be used to discover all of the machines participating in your site and register them with the Web Adaptor.</p></li><li purpose="li" id="LI_0FD4616B719B49659051EDD859287646"><p id="GUID-590AFFC3-B603-48D8-A59D-54B985B2CE30"><span class="usertext">&lt;Username&gt;</span>â€”The user name of an account that has administrative privileges to the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site.  Typically, you'll use the primary site administrator account you defined when you created the site.</p></li><li purpose="li" id="LI_0A11FA694EF348829443F97C62B0F6F0"><p id="GUID-9E7DE81E-08A8-47FE-8E98-92614B1CE87B"><span class="usertext">&lt;Password&gt;</span>â€”The password of an  account that has administrative privileges to the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site.  Typically, you'll use the primary site administrator account you defined when you created the site.</p></li><li purpose="li" id="LI_A62FA91E33024BB588C079E22496F677"><p id="GUID-079D447F-9FDD-409F-9A72-11A6227E83B4"><span class="usertext">  &lt;AdminAccessEnabled&gt;</span>â€”Indicates if <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>  Manager and the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>  Administrator Directory will be available through the Web Adaptor. As a security measure, this parameter is set to <span class="usertext">false</span> by default.  To enable administrative access, set this parameter to <span class="usertext">true</span>.</p></li></ul><p id="GUID-A23D4A3A-69E0-41EA-B4FC-16190ED8816B">Example: <span class="usertext">ConfigureWebAdaptor.exe /m server /w http://webadaptorhost.domain.com/webadaptorname/webadaptor /g http://gisserver.domain.com:6080 /u siteadmin /p secret /a false</span></p><div class="notes" id="GUID-399CABCC-E244-4098-82B9-DDE94E26E0B8"><div class="legacy"><img class="note_img" src="rsrc/legacy.png" alt="Legacy" title="Legacy"><span>Legacy:</span></div><div class="tipbody"><p id="GUID-CF0F0502-C691-49FE-A756-3A0AB63A2C7B">In version 10.2 and earlier, you were required to append <span class="usertext">/server</span> to the end of the Web Adaptor URL parameter, for example, <span class="usertext">/w http://webadaptorhost.domain.com/webadaptorname/webadaptor/server</span>.   At 10.2.1 and later versions, this is no longer required.</p></div></div></div><div class="section1" id="GUID-37C99484-8292-4E4B-8D7A-C3741F83592E" purpose="section1"><h2>After configuring the Web Adaptor</h2><p id="GUID-E7A2D578-75AC-4B04-BA3A-BBC1B90883DC">Now that your Web Adaptor has been configured for use, there are a few important items you should consider below:</p><div class="section2" id="ESRI_SECTION2_4612086520DF47C6819B3ED330E9C65C" purpose="section2"><h3>Adding or removing <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> machines</h3><p id="GUID-3AA0A2B3-DF17-4399-85BE-6DE074443183">If you add or remove <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> machines from your site, it takes the Web Adaptor one minute to recognize the changes to your site.  If you want the Web Adaptor to immediately recognize the added or removed machines, you can reconfigure it by following the instructions above.</p></div><div class="section2" id="ESRI_SECTION2_3F7D0FB4F9E643E1A27485F1F0BD1543" purpose="section2"><h3>Installing multiple Web Adaptors</h3><p id="GUID-C3C4E785-8F8F-45CE-9298-4E26EC6ABA9D"> You can provide different web entry points into your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site by installing multiple Web Adaptors. You may be motivated to do this to make your site more highly available to clients, provide support for legacy applications, or allow publishing and administrative access to specific users in a highly secure environment.  For more information, see <a class="xref" rel="01n1/01n10000000m000000.htm#ESRI_SECTION2_B92A04F854F147EFABEA3AF96A78C4D3" href="01n1/01n10000000m000000.htm#ESRI_SECTION2_B92A04F854F147EFABEA3AF96A78C4D3">Deployment scenarios</a>.</p><p id="GUID-A7C14E7E-DCB0-4A94-8A57-45EC38B90652"> Multiple Web Adaptors can be installed on the same machine at the same time or the installation can be spread across separate machines. If you want to install multiple Web Adaptors on the same website (port), they need to use different names. For example, two Web Adaptors named <span class="usertext">arcgis</span> cannot exist on the same website. If you want multiple Web Adaptors with the same name, you'll need to install them on separate websites (ports).</p></div><div class="section2" id="ESRI_SECTION2_F7117AF9CB8B47DFA41D7E994E08D1FF" purpose="section2"><h3>Enabling HTTPS on <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span></h3><p id="GUID-E3A5A6C8-9346-4AC8-BD75-6A9026FF73D8"> By default, <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>  uses HTTP and HTTPS protocols for communication. If you update <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>'s communication protocol to HTTP only or HTTPS only, it takes the Web Adaptor one minute to recognize the changes to your site.</p><div class="notes" id="GUID-34B136ED-D539-448F-A8EC-F44DC8925B64"><div class="legacy"><img class="note_img" src="rsrc/legacy.png" alt="Legacy" title="Legacy"><span>Legacy:</span></div><div class="tipbody"><p id="GUID-36901280-7127-4D7F-8F35-00E9A5B10795">In version 10.2.1 and earlier, you were required to reconfigure the ArcGIS Web Adaptor after updating the communication protocol of <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>.  At 10.2.2 and later versions, this is no longer necessary.</p></div></div><p id="GUID-74F8EE7C-0DBB-4D56-9DCB-327E0B9F41D2">To learn more about <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>'s communication protocol, see <a class="xref" target="_blank" rel="http://server.arcgis.com/en/server/latest/administer/windows/secure-arcgis-server-communication.htm" href="http://server.arcgis.com/en/server/latest/administer/windows/secure-arcgis-server-communication.htm">Securing ArcGIS Server communication</a>.</p></div></div><div class="section1" id="GUID-81CE6E1D-6A9B-48B9-9586-2634B5CAB04C" purpose="section1"><h2>

</h2><p id="GUID-6136B5DD-D055-44DE-B970-0C98FF05D867">For full instructions on how to install multiple Web Adaptors, see <a class="xref" rel="01n1/01n100000016000000.htm" href="01n1/01n100000016000000.htm">Installing multiple Web Adaptors</a>.</p></div>


<div class="footer"> Copyright Â© 1995-2017 Esri. All rights reserved. </div></div></body></html>