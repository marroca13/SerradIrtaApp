<html lang="en" xml:lang="en"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="The simplest appropriate configuration for a production site is to expose one ArcGIS Server machine through a reverse proxy, such as a third-party reverse proxy server or ArcGIS Web Adaptor."><meta name="content-language" content="en"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Single-machine deployment with reverse proxy server</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-D32FA68C-96A1-47D7-BC5D-1812D88B121A]--><body><div id="content"><div class="header"><h1>
Single-machine deployment with reverse proxy server</h1><div id="breadcrumb"></div></div>
<p id="GUID-212D5C48-1B85-45B9-8749-AB2B8C3D9139">This deployment is  a variation of the <a class="xref" rel="01n1/01n10000002w000000.htm" href="01n1/01n10000002w000000.htm">single-machine deployment</a> where a <a class="xref" target="_blank" rel="http://server.arcgis.com/en/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm" href="http://server.arcgis.com/en/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm">reverse proxy server</a> is added to the site. A reverse proxy server acts as an intermediary for client requests seeking resources from your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> site, adding extra security features to your site deployment.</p><p id="GUID-9711BB40-A27F-42D2-80D9-180E626B5928"> ArcGIS Web Adaptor is a reverse proxy implementation from Esri that you can configure in <a class="xref" rel="01n1/01n100000034000000.htm" href="01n1/01n100000034000000.htm">most common web application servers</a>.  Alternatively, you can choose to leverage other third-party reverse proxy web servers.</p><p id="GUID-AC4D049B-1DD3-4257-9736-771062A802BF">As depicted in the diagram below, ArcGIS Web Adaptor or a third-party reverse  proxy server is typically configured on a separate web server machine, although it is also possible to colocate them with your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>.</p><p id="GUID-CC17478D-83F4-4241-81EC-F204FC1AD30C"> To client applications, there is no difference between accessing GIS services directly or through the proxy. However, as the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> administrator, you may want to use a reverse proxy server for one or more of the following reasons:</p><p id="GUID-D9F6D7D8-602E-46FD-991F-56DEEAD7EEDD"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-B0DCED81-BA6B-4103-AB6D-521F1939A100-web.png" purpose="img" alt="Single-machine site with a reverse proxy installed on a dedicated web server" title="Single-machine site with a reverse proxy installed on a dedicated web server"></td></tr><tr><td><div class="caption" purpose="caption">Single-machine site with a third-party reverse proxy installed on a dedicated web server</div></td></tr></table></div></p>


<div class="section1" id="ESRI_SECTION1_5365D260725C42CDB33EDCBA245ADA65" purpose="section1"><h2>Access GIS services over standard ports</h2><p id="GUID-4B4B437F-DC4B-4CC8-BCA3-C7909471C220">When not using a reverse proxy server, clients will connect directly to <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> through <span class="usertext">http://gisserver.domain.com:6080</span> or <span class="usertext">https://gisserver.domain.com:6443</span> if you have configured HTTPS. You cannot change the <a class="xref" target="_blank" rel="http://server.arcgis.com/en/server/latest/administer/windows/ports-used-by-arcgis-server.htm" href="http://server.arcgis.com/en/server/latest/administer/windows/ports-used-by-arcgis-server.htm">default ports</a> used by <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>. If you want client applications to use standard ports, such as 80 and 443 for HTTP and HTTPS, respectively, you'll need to configure a reverse proxy and direct clients to access services through it. For example, you could configure your reverse proxy at <span class="usertext">http://proxy.domain.com/arcgis</span> or at <span class="usertext">http://proxy.domain.com/myGIS</span>.</p></div><div class="section1" id="ESRI_SECTION1_017A251D747244C9B665F99FFC6258F5" purpose="section1"><h2>Isolate <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> behind your organization's firewall</h2><p id="GUID-89B1F282-13EC-49A9-AF1E-E0AFA6C989A0">If you want to make your services and applications publicly available on the Internet, it is recommended to use a reverse proxy web server configuration to isolate <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> behind your organization's firewall. In this configuration, incoming requests from the Internet pass through a firewall that blocks all ports except 80 and 443 (HTTP and HTTPS, respectively). Your reverse proxy web server receives the incoming request, passes it to <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> through another firewall via port 6080 or 6443 (HTTP or HTTPS), and sends the response back to the client.     The following diagram shows how the reverse proxy server would reside in a perimeter network, helping you control access to your secure internal network.</p><p id="GUID-04B40C7C-AFA1-4AF8-AC23-4CE146F8DA79"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-DBC9A501-BD3B-4E76-B8A2-BCB29535D578-web.png" purpose="img" alt="Existing reverse proxy connecting to" title="Existing reverse proxy connecting to"></td></tr></table></div></p><p id="GUID-0DA19151-9A7D-4108-959A-A70DDB40BEF1">To learn how to integrate a reverse proxy server with <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>, see <a class="xref" target="_blank" rel="http://server.arcgis.com/en/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm" href="http://server.arcgis.com/en/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm">Using a reverse proxy server with ArcGIS Server</a>.</p></div><div class="section1" id="ESRI_SECTION1_B47C8B7AFC7449CE8E0CC52A2F06C39D" purpose="section1"><h2>Block administrative access to your site</h2><p id="GUID-06620085-D4F3-415A-9CEB-13B3167A544F">A reverse proxy server can be used to block access to
specific resources in your site. For example, you can
configure your reverse proxy to block access to <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> Manager and the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> Administrator Directory. This is a good practice, especially if
you expose your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> services to the Internet.</p><p id="GUID-10EA474B-87D5-441E-95BF-2F26AFA42BA5"> When using ArcGIS Web Adaptor, disable administrative access to your site by following the instructions  in <a class="xref" target="_blank" rel="http://server.arcgis.com/en/server/latest/administer/windows/configure-arcgis-web-adaptor-after-installation.htm" href="http://server.arcgis.com/en/server/latest/administer/windows/configure-arcgis-web-adaptor-after-installation.htm">Configuring the Web Adaptor after installation</a>.   If you are using a third-party reverse proxy server, refer to its
specific documentation to block access to all requests that
attempt to access <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> Manager (<span class="usertext">proxy.domain.com/arcgis/manager/</span>) or the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> Administrator Directory (<span class="usertext">proxy.domain.com/arcgis/admin/</span>).</p><p id="GUID-6B020F3C-E34A-4DB4-B713-92B31168ABF3"> While administrative access will be
blocked when accessing your site through the reverse proxy,
administrative access will still be available when accessing your
<span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> directly through its default ports (6080 or 6443). Firewalls should be used appropriately
to control where these ports can be accessed.</p></div><div class="section1" id="ESRI_SECTION1_6B937290F52246A7B49DC5FF5E286234" purpose="section1"><h2>Leverage features in your own web server</h2><p id="GUID-DEF4E7ED-B69C-4622-B638-D19C211C7E54">Web servers include many features that you may want to leverage as part of your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> deployment.  By sharing your GIS services through your reverse proxy server, you can leverage the logging, caching, and security features of your web server.</p><ul purpose="ul" id="UL_430746EA18DB422A9648B28D66CE4FF3"><li purpose="li" id="LI_F1F3D98C03C148C9B04A4D8162B27B46">Web tier authentication: By default, <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> uses <a class="xref" target="_blank" rel="http://server.arcgis.com/en/server/latest/administer/windows/about-arcgis-tokens.htm" href="http://server.arcgis.com/en/server/latest/administer/windows/about-arcgis-tokens.htm">token-based authentication</a> (often referred to as ArcGIS token-based or GIS tier authentication). Alternatively, you can choose to configure <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> with web tier authentication. This method enables <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> to delegate authentication to your own web server.  If you need web tier authentication, you must use ArcGIS Web Adaptor. Web tier authentication is not available through a third-party reverse proxy web server.</li><li purpose="li" id="LI_33B4C34B5ACA4314BE2E611EB7731897">Logging: <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> logs include information that is specific to <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> services, for example, which operation has been invoked, the execution time of <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> calls, as well as warnings and errors triggered in your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>. You can complement this information with logs from your web server, which provide details that may be absent in <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> logs, such as the IP address from which the requests were made, the user agent, the referrer, and so on.</li><li purpose="li" id="LI_8C344324013E47E39DA236FC3623A0DD">Other features: Most web servers provide you with options to tightly control requests and responses. For example, you can apply filtering rules to incoming requests, block access from specific IP addresses or domain names, and so on.</li></ul></div><div class="section1" id="ESRI_SECTION1_5399D2DD35D44DB99F451A0F3461CA30" purpose="section1"><h2>Summary</h2><p id="GUID-F521195F-BD24-43A2-BA5C-D629E74C568D">ArcGIS Web Adaptor or a third-party reverse proxy server is an excellent complement to single-machine deployments of <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span>. Both provide additional security features. It is strongly recommended that you use one of them if you plan to expose your GIS services to the Internet, and it may be necessary even for intranet deployments, depending on your security requirements.</p><div class="section2" id="ESRI_SECTION2_695C10EAEC2D4353ACABE9696729B025" purpose="section2"><h3>Advantages</h3><ul purpose="ul" id="UL_CA5E2EE4C2974ADAB89F432BA07AC466"><li purpose="li" id="LI_9CA6DA2321EB493ABC9EF36821FD6422">Complements the <a class="xref" rel="01n1/01n10000002w000000.htm" href="01n1/01n10000002w000000.htm">single-machine deployment</a> with an extra level of security.</li></ul></div><div class="section2" id="ESRI_SECTION2_09FC933129414631A3B1CE0DE247FC72" purpose="section2"><h3>Disadvantages</h3><ul purpose="ul" id="UL_B6E043DE0B6543EA98F315A66435F59A"><li purpose="li" id="LI_135DE9A1D0794D329FB78EE89DED36B5">The use of a reverse proxy server can potentially add an overhead to requests to your <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> services. This is especially true when leveraging web tier authentication for very large and complex (nested groups or federated) enterprise identity stores.</li><li purpose="li" id="LI_26C494BD8FF94668A36D8C513C66A2CD">Not highly available; the <span purpose="ph" varid="ArcGISforServer" translate="no">ArcGIS Server</span> machine and reverse proxy server are single points of failure if either go offline.    Refer to the <a class="xref" rel="01n1/01n10000002s000000.htm" href="01n1/01n10000002s000000.htm">Single-machine high-availability (active-passive)</a> deployment for details.</li></ul></div></div>
<div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>