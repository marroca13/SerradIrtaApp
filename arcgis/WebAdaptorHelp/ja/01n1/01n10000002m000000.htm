<html lang="ja" xml:lang="ja"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="HTTPS プロトコルは標準のセキュリティ テクノロジであり、Web サーバーと Web クライアント間で暗号化されたリンクを確立するために使用されます。"><meta name="content-language" content="ja"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Web サーバーで HTTPS を有効化</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-ACA8EEAB-293E-4892-8B7E-9397264A6014]--><body><div id="content"><div class="header"><h1>
Web サーバーで HTTPS を有効化</h1><div id="breadcrumb"></div></div>
<p id="GUID-2BA75BF9-0150-4074-BB9D-F712637AABFF">HTTPS プロトコルは標準のセキュリティ テクノロジであり、Web サーバーと Web クライアント間で暗号化されたリンクを確立するために使用されます。HTTPS を使用すると、サーバーの識別および認証によるネットワーク通信のセキュリティ保護が容易に実現され、送信されるすべてのデータのプライバシーと整合性が確保されます。HTTPS はネットワーク上で送信される情報の傍受や改ざんを防ぐことができるため、ログインと認証メカニズムだけでなく、通信に機密情報が含まれるネットワークでも HTTPS を使用するようにしてください。</p><p id="GUID-C75DB9CA-EF0E-4071-83A3-998511312AFC">HTTPS を使用すると、<span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> とサーバーとの間で送受信される名前、パスワード、およびその他の機密情報を解読不能にすることができます。HTTPS を使用する場合は、HTTP の代わりに HTTPS プロトコルを使用して Web ページやリソースに接続します。</p><p id="GUID-F679CE35-9EFA-44B1-AA21-1EC48266E69F">HTTPS を使用するには、サーバー証明書を取得し、<span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> をホストしている Web サイトに関連付ける必要があります。証明書を読み込み、Web サイトに関連付ける手順は Web サーバーごとに異なります。</p><p id="GUID-8338655B-D368-4CCA-8E93-15FF33A2C7F5">また、HTTPS を通じてセキュアなサービスに正しくアクセスできるように、Web サーバーがクライアント証明書を無視するように設定されていることを確認します。</p><div class="section1" id="GUID-785B4C5F-085D-4297-9AEA-67983BC08354" purpose="section1"><h2>
サーバー証明書の作成</h2><p id="GUID-9D19EEED-5546-4A34-8529-D79B67B47352">
<span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> とサーバーの間で HTTPS 接続を作成できるようにするには、Web サーバーにサーバー証明書が必要です。証明書は、Web サーバーのアイデンティティに関する情報を含むデジタル ファイルです。SSL 証明書には、Web サーバーと ArcGIS Server 間のセキュリティで保護されたチャンネルを確立するときに使用される、暗号化の手法も含まれます。証明書は、Web サイトの所有者が作成してデジタル署名する必要があります。証明書には、CA 署名、ドメイン、自己署名の 3 種類があります。次に、それぞれの証明書について説明します。</p><div class="section2" id="ESRI_SECTION2_B89E43031B974D188D07F92121765C41" purpose="section2"><h3>CA 署名証明書</h3><p id="GUID-83FE3C84-5F63-4236-A1A7-7E187A4D0998">運用システムには、認証機関 (CA) が署名した証明書を使用します。特に、組織外のユーザーが ArcGIS Server にアクセスする場合は、その必要があります。たとえば、サーバーがファイアウォールの内側になく、インターネット経由でアクセスできる場合、CA 署名証明書を使用すると、組織外のクライアントに対して Web サイトのアイデンティティが確認済みであることを保証できます。</p><p id="GUID-279CB780-6191-4422-8222-DAF7B3EB427E">証明書は、Web サイトの所有者による署名に加えて、独立した CA で署名される場合があります。通常、CA は Web サイトの信頼性を証明できる信頼された第三者機関です。Web サイトが信頼できる場合、CA は独自のデジタル署名を Web サイトの自己署名証明書に追加します。これにより Web クライアントに対して、Web サイトのアイデンティティが確認済みであることを保証します。</p><p id="GUID-F3F43E4C-31EB-4044-97FA-51C81B87B59D">よく知られた CA によって発行された証明書を使用する場合、サーバーと Web クライアント間のセキュリティで保護された通信は自動的に行われます。ユーザーが特別な操作を行う必要はありません。Web サイトは CA によって確認済みであるため、Web ブラウザーが予期しない動作を起こしたり、警告メッセージを表示したりすることはありません。</p></div><div class="section2" id="ESRI_SECTION2_687826F11C604E38BAE007786F342346" purpose="section2"><h3>ドメイン証明書</h3><p id="GUID-C915BA02-ED9C-47E0-8DEC-09CC1C746515"> サーバーがファイアウォールの内側にあり、CA 署名証明書を使用できない場合、ドメイン証明書が条件にあったソリューションです。ドメイン証明書は、組織の認証機関が署名した内部の証明書です。ドメイン証明書を使用すると、信頼された内部での使用のために組織内で簡単に作成できるため、証明書の発行コストを削減し、証明書の配置が容易になります。</p><p id="GUID-24E5A858-4657-496C-B107-C41DA4AD9042">Web サイトはドメイン証明書によって確認されているため、ドメイン内のユーザーは、自己署名証明書で通常発生する予期しない動作や警告メッセージを経験することはありません。ただし、ドメイン証明書は外部の CA によって整合チェックされていないため、ドメイン外部のサイトのユーザーには、証明書が本当に主張しているとおりの組織を表しているかを確認する方法がありません。外部ユーザーのブラウザーには、このサイトが信頼されていないことを示す警告が表示されます。このため、ユーザーが実際は悪意のある相手と通信していると考え、サイトから移動してしまう可能性があります。</p><div class="section3" id="ESRI_SECTION3_8DB486A77CA74D9CB4E95ECFC646FDBA" purpose="section3"><h4>IIS でのドメイン証明書の作成</h4><p id="GUID-5C923A3E-0893-449B-B313-8423CD683FE4">ドメイン証明書を作成するには、IIS マネージャーで次の手順を実行します。</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_C7ECAB12725B49E2B285BB2212190EE2"><div class="step_title">手順:</div><ol><li purpose="step" id="ESRI_STEP_29A4307BFCF8438D8E09C4F464EDA280"><span purpose="cmd" id="GUID-53C3E3B7-C9F5-4F1F-A37C-4AA18FD794A3"><span class="wintitle">[接続]</span> パネルのツリー ビューでサーバーを選択し、<span class="uicontrol">[サーバー証明書]</span> をダブルクリックします。</span><div class="info" purpose="info"><p id="GUID-4911C1FB-1F8D-485B-B4A2-21EB76BA114A"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-CEB106EE-085F-487D-B723-330BC3388557-web.jpg" purpose="img" alt="IIS マネージャーの [サーバー証明書]" title="IIS マネージャーの [サーバー証明書]"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_90BD76AC7D8E4190A07DF4A1AB26BFE8"><span purpose="cmd" id="GUID-EDE18D50-44D2-4B1D-B071-7FEB7DEC0DC9"><span class="wintitle">[操作]</span> パネルで、<span class="uicontrol">[ドメイン証明書の作成]</span> をクリックします。</span><div class="info" purpose="info"><p id="GUID-ABC07EE3-6A1B-45BD-8580-A3118AC1B0DC"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-531FAB13-86B2-4E47-98B8-5094F47D34FB-web.png" purpose="img" alt="IIS マネージャーの [ドメイン証明書の作成] リンク" title="IIS マネージャーの [ドメイン証明書の作成] リンク"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_57EDFDEFBB6E46278F07C34A989F7B08"><span purpose="cmd" id="GUID-6E13C609-BE9A-446E-B3C6-20F928655191"><span class="wintitle">[識別名プロパティ]</span> ダイアログ ボックスに、証明書に必要な情報を入力します。</span><div class="substeps" id="ESRI_SUBSTEPS_24A37F03FD4447FE82D9013AFE522905" purpose="substeps"><ol><li purpose="substep" id="ESRI_SUBSTEP_40D86F2C95AB4817AAA718319BA80BAA"><span purpose="cmd" id="GUID-12800908-08EB-4F46-AF27-0BB716CAD383"><span class="uicontrol">[一般名]</span> には、コンピューターの完全修飾ドメイン名を入力する必要があります (例: <span class="usertext">gisserver.domain.com</span>)。</span></li><li purpose="substep" id="ESRI_SUBSTEP_D8719BF9BD474DA3925A96FB6D253AFF"><span purpose="cmd" id="GUID-9F35022E-CC2F-48AA-9BC5-BE5735A2671E">その他のプロパティには、組織や場所に固有の情報を入力します。</span></li></ol></div></li><li purpose="step" id="ESRI_STEP_CA345F8E72334B7F8A14BF4DF6E9DD55"><span purpose="cmd" id="GUID-731CA486-E2A3-4BDC-90BB-E2DCDF9575FD"><span class="uicontrol">[次へ]</span> をクリックします。</span></li><li purpose="step" id="ESRI_STEP_7EBB8F0C806F404CAD1C8FBB44A0F17E"><span purpose="cmd" id="GUID-A56E7C49-267C-42B7-92DB-231EA7F0CA00"><span class="wintitle">[オンライン証明機関]</span> ダイアログ ボックスで <span class="uicontrol">[選択]</span> をクリックし、証明書を署名するドメイン内の証明機関を選択します。このオプションが使用できない場合は、<span class="uicontrol">[オンライン証明機関の指定]</span> フィールドにドメイン証明機関を入力します (例: <span class="usertext">City Of Redlands Enterprise Root\REDCASRV.empty.local</span>)。この手順の詳細については、システム管理者にお問い合わせください。</span><div class="info" purpose="info"><p id="GUID-6DACCDF3-AD85-48B8-B9F2-2DAE9D57F127"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-86A49A2E-285F-4D31-9617-091016B3F6F3-web.png" purpose="img" alt="IIS マネージャーの [オンライン証明機関] ダイアログ ボックス" title="IIS マネージャーの [オンライン証明機関] ダイアログ ボックス"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_E53F897B748644B58F3E445DD1CF929E"><span purpose="cmd" id="GUID-21F1EF44-FC5A-4CF1-8F26-A2A762B99BD6">ドメイン証明書にわかりやすい名前を入力して、<span class="uicontrol">[完了]</span> をクリックします。</span></li></ol></div><div class="result" id="ESRI_RESULT_B14F099C32A04FF28F9BB92F478C84B5" purpose="result"><p id="GUID-F22639B5-6D45-4272-923C-807988F7A751">最後に、ドメイン証明書を HTTPS ポート 443 に関連付けます。手順については、「<span class="uicontrol">証明書と Web サイトの関連付け</span>」をご参照ください。</p></div></div></div></div><div class="section2" id="ESRI_SECTION2_EE5D2BB7BDB844EB8B3F15A9774975DB" purpose="section2"><h3>自己署名証明書</h3><p id="GUID-A273BB9B-83F2-49B9-A79A-053BA864C975">Web サイトの所有者だけが署名している証明書を自己署名証明書と呼びます。一般的に自己署名証明書は、組織の内部 (LAN) ネットワークのユーザーだけが利用する Web サイトで使用されます。自社のネットワークの外部にある、自己署名証明書を使用している Web サイトと通信する場合、証明書を発行しているサイトが本当に主張しているとおりの組織であるかを確認する方法はありません。実際、悪意のある相手と通信して、情報を危険にさらす可能性があります。</p><div class="section3" id="ESRI_SECTION3_54C55BB5349146C28CBFA09AC0191C89" purpose="section3"><h4>IIS での自己署名証明書の作成</h4><p id="GUID-F3002672-B32C-4BCA-9427-D8F0A458A182">自己署名証明書を作成するには、IIS マネージャーで次の手順を実行します。</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_C4E47853EFB54B3EBF307CBEA713CE01"><div class="step_title">手順:</div><ol><li purpose="step" id="ESRI_STEP_78502F379BB14228918C11CA7FB2A7FF"><span purpose="cmd" id="GUID-056F26E2-9B5E-4921-802F-458161622AD7"><span class="wintitle">[接続]</span> パネルのツリー ビューでサーバーを選択し、<span class="uicontrol">[サーバー証明書]</span> をダブルクリックします。</span><div class="info" purpose="info"><p id="GUID-81A19C26-0BCE-4D91-B8F9-F7D0F26D384F"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-CEB106EE-085F-487D-B723-330BC3388557-web.jpg" purpose="img" alt="IIS マネージャーの [サーバー証明書]" title="IIS マネージャーの [サーバー証明書]"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_91FDECCA3A5C4763909CEA682851854B"><span purpose="cmd" id="GUID-3CFF9A30-6C7E-49CF-86B4-CE2DA194235D"><span class="wintitle">[操作]</span> パネルで、<span class="uicontrol">[自己署名入り証明書の作成]</span> をクリックします。</span><div class="info" purpose="info"><p id="GUID-CD1BED4A-F800-43F0-BAEC-E197504B03BC"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-E6517557-3953-408A-948C-56C223DF774F-web.jpg" purpose="img" alt="IIS マネージャーの [自己署名入りの証明書の作成] リンク" title="IIS マネージャーの [自己署名入りの証明書の作成] リンク"></td></tr></table></div></p></div></li><li purpose="step" id="ESRI_STEP_782899B3E3CC487A96E4F7D6A491EA16"><span purpose="cmd" id="GUID-ECFC2085-5DBF-4353-A85A-82A56C68B4DC">新しい証明書にわかりやすい名前を入力して、<span class="uicontrol">[OK]</span> をクリックします。</span></li></ol></div><div class="result" id="ESRI_RESULT_0A71E9F1487F40E381A9DA3E8CA4A295" purpose="result"><p id="GUID-A3E04ABF-0953-4897-9C10-3BEED876FAFD">最後に、自己署名証明書を HTTPS ポート 443 に関連付けます。手順については、「<span class="uicontrol">証明書と Web サイトの関連付け</span>」をご参照ください。</p></div></div></div></div></div>
<div class="section1" id="ESRI_SECTION1_BE7A330F475C4A38B5A54902F2302EE8" purpose="section1"><h2>証明書と Web サイトの関連付け</h2><p id="GUID-E452DB07-F04B-40AD-931F-D8A1689762E2">証明書を作成したら、<span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> をホストしている Web サイトにその証明書を関連付ける必要があります。関連付けとは、Web サイトのポート 443 を使用するように証明書を構成するプロセスのことを指します。証明書を Web サイトに関連付ける手順は、プラットフォームと Web サーバーのバージョンによって異なります。手順については、システム管理者にお問い合わせいただくか、Web サーバーのマニュアルをご参照ください。<span purpose="ph" ishcondition="(srv_os=windows) or (srv_platform=dotnet)">たとえば、IIS で証明書を関連付ける手順を次に示します。</span></p><div class="section2" id="ESRI_SECTION2_95194E03F9484B4BA2B8A88DA26E88AA" purpose="section2"><h3>IIS での証明書とポート 443 の関連付け</h3><p id="GUID-FBEB7327-042A-435F-A520-1DD08B1EEF14">IIS マネージャーで証明書と HTTPS ポート 443 を関連付けるには、次の手順を実行します。</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_7A6F9ED814DD45B09FEC1A2A52788497"><div class="step_title">手順:</div><ol><li purpose="step" id="ESRI_STEP_4750AC84882D499EB71144827F731488"><span purpose="cmd" id="GUID-19FD7BF0-15CF-4200-83AC-776B0933D658">ツリー ビューでサイトを選択し、<span class="wintitle">[操作]</span> パネルで <span class="uicontrol">[バインド]</span> をクリックします。</span><ul purpose="choices" id="ESRI_CHOICES_0F4ADDB79E594BF4A97600DCBE1DFB97"><li purpose="choice" id="ESRI_CHOICE_434E7F4762EA4D219AA63796CD73538E">[バインド] リストでポート 443 が使用できない場合は、<span class="uicontrol">[追加]</span> をクリックします。<span class="uicontrol">[種類]</span> ドロップダウン リストから <span class="uicontrol">[https]</span> を選択します。ポートは 443 のままにしておきます。<p id="GUID-66E4E4D8-F292-4441-98DF-B02DF02F6ED8"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-D962B15F-5F12-4170-88BD-BBBDEBD36C87-web.jpg" purpose="img" alt="IIS マネージャーの [サイト バインド] リスト" title="IIS マネージャーの [サイト バインド] リスト"></td></tr></table></div></p></li><li purpose="choice" id="ESRI_CHOICE_0F336D7EB4364677B9CED96D0CE57A81">ポート 443 がリストされている場合は、リストからポートを選択して <span class="uicontrol">[編集]</span> をクリックします。</li></ul></li><li purpose="step" id="ESRI_STEP_8C08EADA415E48D1B2A1928DB657F0C3"><span purpose="cmd" id="GUID-96540C5F-EA39-4297-A630-F18A522B60F5">[証明書] ドロップダウン リストから、証明書の名前を選択して <span class="uicontrol">[OK]</span> をクリックします。</span><div class="info" purpose="info"><p id="GUID-18C60A7E-BFDD-4D29-84CA-2B6F03CEB214"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-ACD6B980-2002-4708-8781-7F58B8E82CC7-web.jpg" purpose="img" alt="IIS マネージャーの新しいバインド" title="IIS マネージャーの新しいバインド"></td></tr></table></div></p></div></li></ol></div></div></div></div>
<div class="section1" id="ESRI_SECTION1_B238988DBBB14772B62FE651B2568ADE" purpose="section1"><h2>サイトのテスト</h2><p id="GUID-7CA72D24-1215-4817-9E2D-AF1B2701D0F5">サイトと Web サイトを関連付けたら、ArcGIS Web Adaptor をサーバーで使用できるように構成できます。HTTPS URL (<span class="usertext">https://webadaptorhost.domain.com/webadaptorname/webadaptor</span> など) を使用して <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> の構成ページにアクセスする必要があります。</p><p id="GUID-9CF112D4-885C-44F0-AFC5-7A1568F6FD87">ArcGIS Web Adaptor を構成したら、ArcGIS Server Manager への HTTPS リクエスト (例: <span class="usertext">https://webadaptorhost.domain.com/webadaptorname/manager</span>) を作成して、HTTPS が正しく動作していることをテストする必要があります。</p></div><div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>