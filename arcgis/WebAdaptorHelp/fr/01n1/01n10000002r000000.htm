<html lang="fr" xml:lang="fr"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="La configuration adéquate la plus simple pour un site de production consiste à rendre une machine ArcGIS Server accessible via un proxy inversé, tel qu'un serveur proxy inverse tiers ou ArcGIS Web Adaptor."><meta name="content-language" content="fr"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Déploiement sur une seule machine avec un serveur proxy inverse</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-D32FA68C-96A1-47D7-BC5D-1812D88B121A]--><body><div id="content"><div class="header"><h1>
Déploiement sur une seule machine avec un serveur proxy inverse</h1><div id="breadcrumb"></div></div>
<p id="GUID-212D5C48-1B85-45B9-8749-AB2B8C3D9139">Ce déploiement est une variation du <a class="xref" rel="01n1/01n10000002w000000.htm" href="01n1/01n10000002w000000.htm">déploiement sur une seule machine</a> lors duquel un <a class="xref" target="_blank" rel="http://server.arcgis.com/fr/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm" href="http://server.arcgis.com/fr/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm">serveur proxy inverse</a> est ajouté au site. Un serveur proxy inverse sert d'intermédiaire pour les requêtes des clients recherchant des ressources sur votre site <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> et il améliore la sécurité du déploiement de votre site.</p><p id="GUID-9711BB40-A27F-42D2-80D9-180E626B5928"> ArcGIS Web Adaptor est une mise en œuvre de proxy inversé d'Esri que vous pouvez configurer dans <a class="xref" rel="01n1/01n100000034000000.htm" href="01n1/01n100000034000000.htm">la plupart des serveurs d'applications Web courants</a>.  Vous pouvez également utiliser d'autres serveurs Web proxy inversés tiers.</p><p id="GUID-AC4D049B-1DD3-4257-9736-771062A802BF">Comme l'indique le diagramme ci-dessous, ArcGIS Web Adaptor ou un serveur proxy inverse tiers est habituellement configuré sur un serveur Web distinct, bien qu'il puisse cohabiter avec votre <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.</p><p id="GUID-CC17478D-83F4-4241-81EC-F204FC1AD30C"> Les applications clientes peuvent aussi bien accéder aux services SIG directement ou via le proxy. Toutefois, en tant qu'administrateur <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, vous souhaiterez peut-être utiliser un serveur proxy inverse pour une ou plusieurs raisons parmi les suivantes :</p><p id="GUID-D9F6D7D8-602E-46FD-991F-56DEEAD7EEDD"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-B0DCED81-BA6B-4103-AB6D-521F1939A100-web.png" purpose="img" alt="Site à une seule machine avec un proxy inversé installé sur un serveur Web dédié" title="Site à une seule machine avec un proxy inversé installé sur un serveur Web dédié"></td></tr><tr><td><div class="caption" purpose="caption">Site à une seule machine avec un proxy inversé tiers installé sur un serveur Web dédié</div></td></tr></table></div></p>
<div class="section1" id="ESRI_SECTION1_5365D260725C42CDB33EDCBA245ADA65" purpose="section1"><h2>Accéder aux services SIG via des ports standard</h2><p id="GUID-4B4B437F-DC4B-4CC8-BCA3-C7909471C220">Lorsque vous n'utilisez pas de serveur proxy inverse, les clients se connecteront directement à <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> via <span class="usertext">http://gisserver.domain.com:6080</span> ou <span class="usertext">https://gisserver.domain.com:6443</span> si vous avez configuré le protocole HTTPS. Vous ne pouvez pas modifier les <a class="xref" target="_blank" rel="http://server.arcgis.com/fr/server/latest/administer/windows/ports-used-by-arcgis-server.htm" href="http://server.arcgis.com/fr/server/latest/administer/windows/ports-used-by-arcgis-server.htm">ports par défaut</a> utilisés par <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>. Pour que les applications clientes utilisent des ports standard, 80 et 443 pour HTTP et HTTPS respectivement, par exemple, configurez un proxy inversé et dirigez les clients vers ce dernier pour accéder aux services. Par exemple, vous pouvez configurer votre proxy inversé sur <span class="usertext">http://proxy.domain.com/arcgis</span> ou <span class="usertext">http://proxy.domain.com/myGIS</span>.</p></div><div class="section1" id="ESRI_SECTION1_017A251D747244C9B665F99FFC6258F5" purpose="section1"><h2>Isoler <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> derrière le pare-feu de votre organisation</h2><p id="GUID-89B1F282-13EC-49A9-AF1E-E0AFA6C989A0">Pour que vos services et applications soient disponibles au public sur Internet, nous conseillons l'utilisation d'une configuration de serveur Web proxy inversé pour isoler <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> derrière le pare-feu de votre organisation. Avec cette configuration, les requêtes en entrée provenant d'Internet passent par un pare-feu qui bloque tous les ports, à l'exception des ports 80 et 443 (HTTP et HTTPS respectivement). Votre serveur Web proxy inversé reçoit les requêtes en entrée, les transmet à <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> via un autre pare-feu par le port 6080 ou 6443 (HTTP ou HTTPS) et renvoie la réponse au client.     Le diagramme suivant indique comment le serveur proxy inverse réside sur un réseau de périmètre pour vous aider à contrôler l'accès à votre réseau interne sécurisé.</p><p id="GUID-04B40C7C-AFA1-4AF8-AC23-4CE146F8DA79"><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-DBC9A501-BD3B-4E76-B8A2-BCB29535D578-web.png" purpose="img" alt="Proxy inversé se connectant à" title="Proxy inversé se connectant à"></td></tr></table></div></p><p id="GUID-0DA19151-9A7D-4108-959A-A70DDB40BEF1">Pour savoir comment intégrer un serveur proxy inverse à <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, reportez-vous à la rubrique <a class="xref" target="_blank" rel="http://server.arcgis.com/fr/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm" href="http://server.arcgis.com/fr/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm">Utilisation d'un serveur proxy inverse avec ArcGIS Server</a>.</p></div><div class="section1" id="ESRI_SECTION1_B47C8B7AFC7449CE8E0CC52A2F06C39D" purpose="section1"><h2>Bloquer l'accès administratif à votre site</h2><p id="GUID-06620085-D4F3-415A-9CEB-13B3167A544F">Un serveur proxy inverse permet de bloquer l'accès à des ressources spécifiques de votre site. Par exemple, vous pouvez configurer votre proxy inversé pour bloquer l'accès au gestionnaire <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> et au répertoire d'administrateur d'<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>. Cette pratique est recommandée, surtout si vous proposez vos services <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> sur Internet.</p><p id="GUID-10EA474B-87D5-441E-95BF-2F26AFA42BA5"> Lorsque vous utilisez ArcGIS Web Adaptor, désactivez l'accès administratif à votre site en suivant les instructions de la rubrique <a class="xref" target="_blank" rel="http://server.arcgis.com/fr/server/latest/administer/windows/configure-arcgis-web-adaptor-after-installation.htm" href="http://server.arcgis.com/fr/server/latest/administer/windows/configure-arcgis-web-adaptor-after-installation.htm">Configuration de l'adaptateur Web après l'installation</a>.   Si vous utilisez un serveur proxy inverse tiers, consultez la documentation qui l'accompagne pour bloquer toutes les requêtes qui tentent d'accéder au gestionnaire <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> (<span class="usertext">proxy.domain.com/arcgis/manager/</span>) ou au répertoire d'administrateur d'<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> (<span class="usertext">proxy.domain.com/arcgis/admin/</span>).</p><p id="GUID-6B020F3C-E34A-4DB4-B713-92B31168ABF3"> Même si l'accès administratif à votre site est bloqué via le proxy inversé, il reste disponible si vous accédez à
<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> directement via ses ports par défaut (6080 ou 6443). Utilisez les pare-feu correctement pour contrôler l'accès à ces ports.</p></div><div class="section1" id="ESRI_SECTION1_6B937290F52246A7B49DC5FF5E286234" purpose="section1"><h2>Exploiter les fonctionnalités de votre serveur Web</h2><p id="GUID-DEF4E7ED-B69C-4622-B638-D19C211C7E54">Les serveurs Web intègrent de nombreuses fonctionnalités que vous souhaiterez peut-être utiliser dans le cadre du déploiement <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.  En partageant vos services SIG via votre serveur proxy inverse, vous pouvez utiliser les fonctions de consignation, de mise en cache et de sécurité de votre serveur Web.</p><ul purpose="ul" id="UL_430746EA18DB422A9648B28D66CE4FF3"><li purpose="li" id="LI_F1F3D98C03C148C9B04A4D8162B27B46">Authentification au niveau du Web : par défaut, <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> utilise <a class="xref" target="_blank" rel="http://server.arcgis.com/fr/server/latest/administer/windows/about-arcgis-tokens.htm" href="http://server.arcgis.com/fr/server/latest/administer/windows/about-arcgis-tokens.htm">l'authentification à base de jetons</a> (souvent appelée authentification ArcGIS à base de jetons ou authentification au niveau du serveur SIG). Vous pouvez également configurer <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> avec l'authentification au niveau du Web. Cette méthode permet à <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> de déléguer l'authentification à votre serveur Web.  Si vous devez procéder à une authentification au niveau du Web, vous devez utiliser ArcGIS Web Adaptor. L'authentification au niveau du Web n'est pas disponible via un serveur Web proxy inversé tiers.</li><li purpose="li" id="LI_33B4C34B5ACA4314BE2E611EB7731897">Consignation : les journaux <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> contiennent des informations propres aux services <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, permettant par exemple d'identifier l'opération appelée, l'heure d'exécution des appels <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, ainsi que les avertissements et erreurs déclenchés sur votre <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>. Vous pouvez compléter ces informations en assimilant les journaux de votre serveur Web qui contiennent des détails pouvant ne pas figurer dans les journaux d'<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, tels que l'adresse IP à partir de laquelle les requêtes ont été transmises, l'agent de l'utilisateur, le référent, etc.</li><li purpose="li" id="LI_8C344324013E47E39DA236FC3623A0DD">Autres fonctionnalités : la plupart des serveurs Web proposent des options de contrôle strict des requêtes et des réponses. Par exemple, vous pouvez appliquer des règles de filtrage aux requêtes en entrée, bloquer l'accès à partir d'adresses IP ou de noms de domaine spécifiques, etc.</li></ul></div><div class="section1" id="ESRI_SECTION1_5399D2DD35D44DB99F451A0F3461CA30" purpose="section1"><h2>Résumé</h2><p id="GUID-F521195F-BD24-43A2-BA5C-D629E74C568D">ArcGIS Web Adaptor ou un serveur proxy inverse tiers sont tout à fait adaptés pour compléter des déploiements <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> sur une seule machine. Ils proposent tous les deux des fonctions de sécurité supplémentaires. Nous recommandons vivement l'utilisation de l'un des deux si vous pensez proposer vos services SIG sur Internet, et leur utilisation peut être nécessaire pour les déploiements sur intranet, selon vos exigences en matière de sécurité.</p><div class="section2" id="ESRI_SECTION2_695C10EAEC2D4353ACABE9696729B025" purpose="section2"><h3>Avantages</h3><ul purpose="ul" id="UL_CA5E2EE4C2974ADAB89F432BA07AC466"><li purpose="li" id="LI_9CA6DA2321EB493ABC9EF36821FD6422">Complète le <a class="xref" rel="01n1/01n10000002w000000.htm" href="01n1/01n10000002w000000.htm">déploiement sur une seule machine</a> avec un niveau supplémentaire de sécurité.</li></ul></div><div class="section2" id="ESRI_SECTION2_09FC933129414631A3B1CE0DE247FC72" purpose="section2"><h3>Inconvénients</h3><ul purpose="ul" id="UL_B6E043DE0B6543EA98F315A66435F59A"><li purpose="li" id="LI_135DE9A1D0794D329FB78EE89DED36B5">L'utilisation d'un serveur proxy inverse peut éventuellement surcharger les requêtes à destination de vos services <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>. C'est particulièrement le cas lors de l'utilisation de l'authentification au niveau du Web pour des magasins d'entités d'entreprise très volumineux et complexes (groupes imbriqués ou fédérés).</li><li purpose="li" id="LI_26C494BD8FF94668A36D8C513C66A2CD">Absence de haute disponibilité. La machine <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> et le serveur proxy inverse représentent des points de défaillance uniques s'ils venaient à être déconnectés.    Pour plus d'informations, renseignez-vous sur le <a class="xref" rel="01n1/01n10000002s000000.htm" href="01n1/01n10000002s000000.htm">déploiement d'une seule machine haute disponibilité (actif-passif)</a>.</li></ul></div></div>
<div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>