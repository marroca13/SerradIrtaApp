<html lang="es" xml:lang="es"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="Un sitio puede incluir varios equipos de ArcGIS Server para manejar el aumento de tráfico o para proporcionar una copia de seguridad en caso de que uno de los equipos se desconecte."><meta name="content-language" content="es"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Implementación en varios equipos con un balanceador de carga de terceros</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-08196164-3CAB-4F08-9C3E-C5BC43FF8C23]--><body><div id="content"><div class="header"><h1>
Implementación en varios equipos con un balanceador de carga de terceros</h1><div id="breadcrumb"></div></div>
<p id="GUID-7D1F5381-6018-4B2E-A173-E6FB8DB627C3"> <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> admite la configuración de sitios en varios equipos. En un sitio de varios equipos, se pueden administrar y utilizar dos o más servidores como una sola unidad lógica, lo que ofrece a los administradores de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> una gran flexibilidad para ajustar fácilmente la capacidad de procesamiento del sitio agregando o quitando equipos. Los sitios en varios equipos también simplifican el proceso de publicar y actualizar servicios en varios equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.</p><p id="GUID-FA3F35BB-BE81-4D99-8507-6ED393B11F72">En una implementación en varios equipos, cada equipo de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> debe tener el mismo número de versión para que el sitio funcione correctamente.  Además, debe aplicarse exactamente la misma licencia a cada equipo que participe en el sitio.</p><p id="GUID-7AA1BAD4-6DA4-4960-BFE4-38FCDA2633B2"> Es habitual que la configuración en varios equipos incluya un servidor proxy inverso de terceros o un equilibrador de carga de red que se utiliza en un grupo de equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.</p><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-D4C995D9-D217-43B5-8405-C6865551E641-web.png" purpose="img" alt="Sitio con varios equipos de" title="Sitio con varios equipos de"></td></tr><tr><td><div class="caption" purpose="caption">Sitio con varios equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> y un equilibrador de carga</div></td></tr></table></div><p id="GUID-7813AE69-5DA1-4ABF-B26A-8430294C93FD"> Un aspecto clave de la configuración en varios equipos es que todos los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> comparten el mismo almacén de configuración y los mismos directorios del servidor. De este modo, un administrador puede iniciar sesión en cualquier equipo utilizando <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> Manager y aplicar cambios que afecten a todos los equipos del sitio.</p><div class="section1" id="ESRI_SECTION1_14CC6AE269D74871B7D81EC84AB5DF75" purpose="section1"><h2>Equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, directorios de servidor y almacén de configuración</h2><p id="GUID-33B1D0C7-B9C5-44FB-A84C-3F395C5C1167">Como todos los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> en configuraciones de varios equipos comparten el mismo almacén de configuración y los mismos directorios del servidor, debe seleccionar una ubicación de red para los directorios del servidor y el almacén de configuración.</p><p id="GUID-7AE3C15F-3E83-4E7A-B412-95BBB3274DE7"> Normalmente, se elige una cuenta de dominio para la cuenta de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, ya que así se simplifica la administración de los permisos de acceso a datos para los recursos de red. No obstante, según sean sus propias políticas de seguridad, puede elegir utilizar cuentas locales. La cuenta de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> (local o de dominio) tiene que tener acceso de escritura al recurso compartido en red donde se ubican el almacén de configuración y los directorios del servidor. Para obtener más información, consulte <a class="xref" target="_blank" rel="http://server.arcgis.com/es/server/latest/administer/windows/accounts-used-by-arcgis-server.htm" href="http://server.arcgis.com/es/server/latest/administer/windows/accounts-used-by-arcgis-server.htm">Cuentas utilizadas por ArcGIS Server</a>.</p><p id="GUID-93BA97C6-C3B8-40B1-B630-D7515B596705">En un sitio con varios equipos, todos los equipos de
<span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> pertenecen inicialmente a un solo <a class="xref" target="_blank" rel="http://server.arcgis.com/es/server/latest/administer/windows/about-gis-server-clusters.htm" href="http://server.arcgis.com/es/server/latest/administer/windows/about-gis-server-clusters.htm">cluster</a> que usa los puertos 4004 y superiores. A partir de la versión 10.4, <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> adopta de manera predeterminada el <a class="xref" target="_blank" rel="http://server.arcgis.com/es/server/latest/administer/windows/about-single-cluster-mode.htm" href="http://server.arcgis.com/es/server/latest/administer/windows/about-single-cluster-mode.htm">modo de clúster único</a> para las nuevas instalaciones. Este modo no incluye el equilibrio de carga entre los equipos del cluster. Esto reduce el tráfico de red entre los equipos del sitio, reduce la carga en la red y ayuda a mejorar la supervisión de los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> de su sitio. Al actualizar a la versión 10.4 o posterior, el modo se habilitará para los sitios con un solo cluster que no estén usando actualmente el modo de un solo cluster. Los sitios con un solo cluster que ya usan el modo de un solo cluster y los sitios con varios clusters en versiones anteriores conservarán sus ajustes al actualizar.</p><p id="GUID-91E9E50C-6209-4D73-8EBD-86870C1C743A"> Si el sitio utiliza más de un clúster, el equilibrio de carga se controla entre todos los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> dentro de cada clúster. Básicamente, los clusters son grupos independientes de equipos que ejecutan conjuntos de servicios dedicados.</p><p id="GUID-34659E5E-FAAD-4401-9537-A5F1AC6E06A5">Por ejemplo, una solicitud entrante se asigna a un equipo de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> disponible en el cluster, incluso si la solicitud se ha dirigido a un equipo concreto dentro del cluster o fuera del mismo. Luego, ese equipo hace el trabajo de dibujar el mapa, buscar la coordenada de dirección, ejecutar la herramienta de geoprocesamiento, etc. y devuelve el resultado al cliente. Si el equipo está desconectado o el servicio que se ha solicitado se está ejecutando en un clúster diferente, la solicitud se reenvía al clúster que contiene el servicio. Los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> de dicho clúster realizan el equilibrio de carga y procesan la solicitud según corresponda.</p></div><div class="section1" id="ESRI_SECTION1_68CB0DD2AAD84B5797E32AD99C6F8A19" purpose="section1"><h2>Datos</h2><p id="GUID-683DCBD4-1E50-44E4-BE33-D0952AA667B5"> Como se ha descrito en otros escenarios de implementación, cuando se utilizan datos basados en archivos es muy recomendable utilizar recursos locales para el equipo de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>. Tiene la desventaja de que obliga a duplicar los datos en todos los equipos, pero reduce el tráfico de red y da como resultado un mayor rendimiento en los servicios. Debe tener en cuenta esta opción y utilizarla cuando corresponda. El tamaño de los datos y la frecuencia de las actualizaciones determinan generalmente si resulta un método práctico o no mantener los datos localmente en todos los equipos.</p><p id="GUID-C00F3955-D0D0-4E89-BF84-6AEFAC472A15"> Si se utilizan bases de datos en este patrón de implementación, es importante utilizar siempre hardware dedicado. Mantenga el nivel de base de datos separado del nivel de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.</p></div><div class="section1" id="ESRI_SECTION1_C0B4AA3B947E494CAF38E2D06896D1C7" purpose="section1"><h2>Servidor proxy inverso de terceros o balanceador de carga de red</h2><p id="GUID-59009666-37AB-4677-8DA2-E984B444C86F"> En esta configuración, los clientes de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> nunca se conectan directamente a los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>. En su lugar, se conectan a través de un nivel intermedio que proporciona características de seguridad y hace que el sitio en general sea más resistente a los fallos.</p><p id="GUID-0E9F0A14-AFE9-4891-9680-43EED7082B90">  Desde la perspectiva de la seguridad, no es una práctica recomendada acceder al mismo canal para utilizar y para administrar el sitio. Normalmente, las tareas administrativas solo están habilitadas en secciones de la red o en equipos específicos que pueden acceder directamente a los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, por ejemplo, en los puertos 6080 o 6443. Puede obviar esto especificando que solo determinadas direcciones IP puedan acceder al servidor en el Directorio del administrador.  Para hacerlo es necesaria la propiedad <span class="usertext">allowedAdminAccessIPs</span> en la <a class="xref" target="_blank" rel="http://resources.arcgis.com/es/help/arcgis-rest-api/02r3/02r3000001t9000000.htm" href="http://resources.arcgis.com/es/help/arcgis-rest-api/02r3/02r3000001t9000000.htm">configuración de seguridad del servidor</a>.  Para aprender a configurar esta propiedad y limitar el acceso al servidor, consulte el ejemplo en <a class="xref" target="_blank" rel="http://resources.arcgis.com/es/help/arcgis-rest-api/02r3/02r3000001rw000000.htm" href="http://resources.arcgis.com/es/help/arcgis-rest-api/02r3/02r3000001rw000000.htm">Actualizar configuración de seguridad</a>.</p><p id="GUID-4D28AF6E-A555-4822-8C1B-D7DF5D01FF34"> Las solicitudes de las aplicaciones cliente se canalizan siempre a través del proxy inverso, que impide el uso de algunos extremos administrativos. La mayoría de los proxy de terceros permiten filtrar las solicitudes entrantes que incluyen un determinado patrón de URL. Al bloquear las solicitudes entrantes utilizando los recursos del Directorio del administrador de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> (<span class="usertext">http://gisserver.domain.com:6080/arcgis/admin</span>) o de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> Manager (<span class="usertext">http://gisserver.domain.com:6080/arcgis/manager</span>) se bloquean con eficacia todas las tareas administrativas a través del proxy inverso.</p><p id="GUID-6DC6A4F1-EF76-410B-A352-EBDFE31293F0"> Su proxy inverso también sirve como equilibrador de carga del sitio. Un algoritmo de equilibrio de carga simple como la operación por turnos es adecuado para esta configuración.</p><p id="GUID-B9492F73-C386-4405-A524-9A134106B74D">Si su equilibrador de carga de red admite una función de verificación de estado, puede utilizar el extremo de verificación de estado de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> para determinar si el sitio está disponible para recibir solicitudes.  Esto resulta útil para determinar rápidamente si hay un fallo de software o hardware en el sitio.  Para obtener más información, consulte <a class="xref" target="_blank" rel="http://resources.arcgis.com/es/help/arcgis-rest-api/02r3/02r3000002n7000000.htm" href="http://resources.arcgis.com/es/help/arcgis-rest-api/02r3/02r3000002n7000000.htm">Verificación de estado</a> en la API REST de ArcGIS.</p><p id="GUID-28E2F286-E703-4DAA-95BA-016946315B13">Para aprender a integrar un servidor proxy inverso con <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>, consulte <a class="xref" target="_blank" rel="http://server.arcgis.com/es/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm" href="http://server.arcgis.com/es/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm">Utilizar un servidor proxy inverso con ArcGIS Server</a>.</p></div><div class="section1" id="ESRI_SECTION1_7D80FDD6984A4CB89673169EC202AE9B" purpose="section1"><h2>Ventajas</h2><ul purpose="ul" id="UL_95A679B9F76D4BF689C7D662788FF04D"><li purpose="li" id="LI_282DE4C9AD6B4A4988654E435162F3EB">Un solo sitio de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> proporciona los medios para administrar fácilmente <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> y sus servicios en varios equipos.</li><li purpose="li" id="LI_27251CF49540483AB4F13EA8C01AE620"> Es fácil ajustar la capacidad del sitio agregando o quitando equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.</li><li purpose="li" id="LI_771CF22F97D84BABBF6A2695DEBED2F2">El equilibrio de la carga se maneja entre los equipos de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.</li></ul></div>
<div class="section1" id="ESRI_SECTION1_41EFAD1B165B4AD7BB2360CACBFE3F46" purpose="section1"><h2>Desventajas</h2><ul purpose="ul" id="UL_990D447AD1774E3BB15F91EC33862342"><li purpose="li" id="LI_A1774AA02A234F6B99B66A5C3C260121">El uso de los directorios de <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> y los datos en ubicaciones de red compartidas puede afectar negativamente al rendimiento de los servicios cuando hay mucha carga.</li><li purpose="li" id="LI_8E200906EA23425EAD7C18CEB73610F3">Requiere entender los balanceadores de carga de terceros.</li><li purpose="li" id="LI_6F2309574D9A4365BB40ED27E5601F24">No es compatible con la autenticación en el nivel web. Consulte <a class="xref" rel="01n1/01n10000002t000000.htm" href="01n1/01n10000002t000000.htm">Implementación en varios equipos con ArcGIS Web Adaptor</a> para sacar partido a la autenticación de nivel web.</li></ul></div><div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>