<html lang="de" xml:lang="de"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="Um Schwachstellen in der ArcGIS Server-Ebene auszumerzen, kann eine ArcGIS Server-Site mit einem einzelnen Computer mit Failover unter Einbeziehung des Load Balancer eines Drittanbieters konfiguriert werden."><meta name="content-language" content="de"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Bereitstellung von einem einzelnen Computer mit hoher Verfügbarkeit (Aktiv/Passiv)</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-5BAC2F6A-272F-46A1-B7C1-2051320339BA]--><body><div id="content"><div class="header"><h1>
Bereitstellung von einem einzelnen Computer mit hoher Verfügbarkeit (Aktiv/Passiv)</h1><div id="breadcrumb"></div></div>
<p id="GUID-36F9A1B2-A480-4256-8D70-EDA6F9381933"> Um Schwachstellen in der <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Ebene auszumerzen, kann eine <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Site mit einem einzelnen Computer mit Failover unter Einbeziehung des Load Balancer eines Drittanbieters konfiguriert werden.</p><p id="GUID-530A2A53-6D12-423C-A75F-A29D9D8EB644"> Generell wird bei dieser Bereitstellungsmethode eine Site mit einem Computer geklont, und es werden zwei oder mehr unabhängige Instanzen davon hinter einen Load Balancer mit Aktiv/Passiv-Konfiguration geschaltet. Alle Sites hinter dem Load Balancer werden ausgeführt und sind bereit, Anforderungen zu verarbeiten, der Load Balancer selbst sendet die Anforderungen jedoch nur zu einer der Sites, der primären Site. Wenn der Load Balancer erkennt, dass die primäre Site nicht verfügbar ist, werden eingehende Anforderungen an eine Failover- oder Standby-Site weitergeleitet.</p><div class="image" purpose="image"><table><tr><td><img class="break" src="01n1/GUID-5C90B73D-37F7-49B6-BA71-C78FE2A76D5D-web.png" purpose="img" alt="Bereitstellung von einem einzelnen Computer mit hoher Verfügbarkeit und Standby-Site" title="Bereitstellung von einem einzelnen Computer mit hoher Verfügbarkeit und Standby-Site"></td></tr><tr><td><div class="caption" purpose="caption">Bereitstellung von einem einzelnen Computer mit hoher Verfügbarkeit und Standby-Site. Administratoren stellen zu jeder Site eine separate Verbindung her. Beide Sites verfügen über eine identische Kopie der Serververzeichnisse und des Konfigurationsspeichers.</div></td></tr></table></div><p id="GUID-B2F53AB0-20AB-4A1A-87B9-2DE1B681002F"> Der Failover-Vorgang findet vollständig außerhalb von <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> statt und kann normalerweise so konfiguriert werden, dass er ausgelöst wird, wenn der <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Computer komplett nicht verfügbar ist (Netzwerk- oder Hardwareausfall) – in einigen Fällen auch dann, wenn ein bestimmter GIS-Service oder -Vorgang fehlschlägt.</p><div class="notes" id="GUID-4AB84509-E900-4BAA-BF8A-1795C5996A5F"><div class="note"><img class="note_img" src="rsrc/note.png" alt="Hinweis" title="Hinweis"><span>Hinweis:</span></div><div class="tipbody"><p id="GUID-E7204827-F79D-4C0A-BCB5-465EBCEC4760">Sie können Lizenzdateien für Ihre Standby- oder Failover-Sites ohne Zusatzkosten von <span purpose="ph" varid="myesrilink"><a target="_blank" class="xref" href="https://my.esri.com/" rel="https://my.esri.com/">My Esri</a></span> anfordern.</p></div></div><p id="GUID-582734D0-2474-450E-BA4C-513D2701FE6B"> Bei dieser Bereitstellungsmethode wird <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> auf mehreren Computern gehostet; technisch gesehen handelt es sich dabei jedoch nicht um eine Site mit mehreren Computern, da jede der Sites hinter dem Load Balancer von den anderen unabhängig ist. Jede Site besteht aus einem einzelnen <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Computer und verfügt über einen eigenen lokalen Konfigurationsspeicher und eigene lokale Serververzeichnisse.</p>
<div class="section1" id="ESRI_SECTION1_6855783BE1014AAF8C9BAAA490966934" purpose="section1"><h2><span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Computer, -Serververzeichnisse und -Konfigurationsspeicher</h2><p id="GUID-14FA6DC6-BCD6-4225-ABE4-05DAC4AE0791"> In diesem Fall gelten dieselben Überlegungen, die bereits im Zusammenhang mit der <a class="xref" rel="01n1/01n10000002w000000.htm" href="01n1/01n10000002w000000.htm">Bereitstellung eines einzelnen Computers</a> beschrieben wurden. Jeder <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> verfügt über eigene lokale Serververzeichnisse und einen eigenen lokalen Konfigurationsspeicher. Dadurch wird eine bestmögliche Performance sichergestellt, und Interdependenzen werden auf ein Minimum reduziert.</p></div><div class="section1" id="ESRI_SECTION1_BF1EDC0004BA41DC802401E547D314D9" purpose="section1"><h2>Daten</h2><p id="GUID-7FF07C0D-DB56-421E-AEF9-68C62417A2CA"> Bei Verwendung dateibasierter Datenquellen in den GIS-Services empfiehlt es sich, diese lokal auf den einzelnen <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Computern und nicht auf Netzwerkfreigaben zu speichern, um eine größtmögliche Performance der Services zu erzielen. In einigen Fällen (z. B. bei der Verarbeitung großer Bilddatenmengen) kann die Freigabe der Dateien über das Netzwerk die einzig praktikable Methode darstellen. Bei der Verwendung von Dateien in freigegebenen Ressourcen über das Netzwerk ist es sehr wichtig, ein Speichergerät auszuwählen, das für hohe Verfügbarkeit konfiguriert wurde.</p><p id="GUID-FC892FD0-09B5-4A0E-AA48-03C3FF722C81">Bei Datenbanken können Sie eine Datenbank für jede Ihrer Sites verwenden: eine Datenbank für die primäre Site und eine separate Datenbank für die Standby-Site. Um die Datenbanken synchron zu halten, können Sie die Datenbankreplikation oder ggf. auch Geodatabase-Replikation anwenden. Als Alternative können Sie weitere Hochverfügbarkeitsmechanismen Ihres Datenbankanbieters nutzen.</p></div><div class="section1" id="ESRI_SECTION1_E28679F50AC74EA885D013361DC0F1E5" purpose="section1"><h2>Reverseproxyserver</h2><p id="GUID-9605B5A1-A4C5-4E7B-80F0-F58070FF4D82"> In dieser Konfiguration ist ein Load Balancer eines Drittanbieters erforderlich. Diese Komponente wird zur Verteilung der Last auf alle Sites und ggf. für den Failover-Vorgang eingesetzt. Normalerweise übernimmt der Load Balancer auch die Rolle des Reverseproxyservers, wie in der <a class="xref" rel="01n1/01n10000002r000000.htm" href="01n1/01n10000002r000000.htm">Bereitstellung auf einem einzelnen Computer mit Reverseproxyserver</a> beschrieben. In einigen Szenarien wurde möglicherweise bereits unabhängig vom Load Balancer ein <a class="xref" target="_blank" rel="http://server.arcgis.com/de/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm" href="http://server.arcgis.com/de/server/latest/administer/windows/using-a-reverse-proxy-server-with-arcgis-server.htm">Reverseproxyserver</a> konfiguriert.</p><p id="GUID-C09E8E7A-2E5A-4CA2-9C60-6AA77BD53977">Wenn Ihr Netzwerk-Load Balancer die Systemdiagnose unterstützt, können Sie den Endpunkt der Systemdiagnose von <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> verwenden, um zu ermitteln, ob die Site für den Empfang von Anforderungen verfügbar ist.  Dies ist hilfreich, um schnell zu bestimmen, ob ein Software- oder Hardwarefehler in der Site vorliegt.  Weitere Informationen finden Sie unter <a class="xref" target="_blank" rel="http://resources.arcgis.com/de/help/arcgis-rest-api/02r3/02r3000002n7000000.htm" href="http://resources.arcgis.com/de/help/arcgis-rest-api/02r3/02r3000002n7000000.htm">Systemdiagnose</a> in der ArcGIS-REST-API.</p><p id="GUID-4F6CC4E8-8356-43C3-B384-011F5711C6D7"> Die Verwendung von ArcGIS Web Adaptor ist optional und bei diesem Szenario normalerweise nur erforderlich, wenn Sie die Authentifizierung auf Webebene nutzen möchten. Aus Gründen der Einfachheit können Sie diesen auf demselben Computer konfigurieren wie den <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>.  Alternativ können Sie ihn auf einem dedizierten Computer konfigurieren. In beiden Fällen müssen Sie bei der Verwendung von ArcGIS Web Adaptor einen separaten ArcGIS Web Adaptor für jede Site konfigurieren.</p></div><div class="section1" id="ESRI_SECTION1_196562782F0149D9A8D7862BA38841EB" purpose="section1"><h2>Weitere Überlegungen</h2><div class="section2" id="ESRI_SECTION2_C0955A61BFD348F68136E7289F25B83B" purpose="section2"><h3>Synchronisieren der Services in den Sites</h3><p id="GUID-236BE866-44C2-4547-A913-EFAC3C3B4888"> Im Gegensatz zu einer Site mit mehreren Computern muss bei dieser Konfiguration auf allen Sites hinter dem Load Balancer genau derselbe Inhalt gehostet werden, und alle Sites müssen dasselbe Sicherheitsmodell aufweisen. Sie müssen sicherstellen, dass alle Sites für den Load Balancer identisch aussehen.</p><p id="GUID-8F3DE45D-6ADC-4E02-9070-DB09850AFCC8"> Es gibt mehrere Möglichkeiten, mit denen Sie die <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Services auf den primären und Failover-Sites miteinander synchronisieren können:</p><ul purpose="ul" id="UL_F4A876F72DBB46A397A69054C851CD96"><li purpose="li" id="LI_2402FD84A05D4D2695366E4E4B018FF4">Skripte: <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> umfasst eine administrative RESTful-API, mit der Sie Skripte für administrative Tasks erstellen können, z. B. zum Veröffentlichen von Services und Ändern der Sicherheitseinstellungen. Sie können eigene Skripte erstellen, um Änderungen durchgängig auf alle in der Bereitstellung enthaltenen <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> anzuwenden. Skripte sind besonders hilfreich, wenn Sie kleinere Anpassungen vornehmen müssen, etwa zum Ändern oder Überschreiben der Sicherheit eines Service. Weitere Informationen finden Sie unter <a class="xref" target="_blank" rel="http://server.arcgis.com/de/server/latest/administer/windows/scripting-arcgis-server-administration.htm" href="http://server.arcgis.com/de/server/latest/administer/windows/scripting-arcgis-server-administration.htm">Skripterstellung zur Verwaltung von ArcGIS Server</a>.</li><li purpose="li" id="LI_952B7B2D50774CF58097DC68DC7094F5"> Virtualisierung: Wenn Sie in einer virtuellen Umgebung arbeiten, können Vorlagen virtueller Computer erstellt und zum Einrichten neuer Sites verwendet werden. Jede Vorlage enthält eine Kopie der erforderlichen Daten für GIS-Services (es sei denn, es wird eine Datenbank verwendet). Mit der Vorlage werden ebenfalls alle Services veröffentlicht und konfiguriert. Wenn Änderungen erforderlich sind (z. B. beim Hinzufügen oder Aktualisieren vorhandener Services), kann eine neue Vorlage erstellt werden, um später neue virtuelle Computer einzurichten, die den vom Load Balancer verwendeten vorhandenen Pool von <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Computern ersetzen. Vorlagen für virtuelle Computer können auch verwendet werden, um schnell veraltete <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Computer wiederherzustellen.</li></ul><p id="GUID-34948C59-10A8-43D3-9F4B-0BA0299F63D9"> Für die Anwendung von Änderungen in Ihren Sites wird bei diesem Bereitstellungsmuster die folgende Vorgehensweise empfohlen:</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="ESRI_STEPS_784E84BE74D5437E9707B1399BAF19EE"><div class="step_title">Schritte:</div><ol><li purpose="step" id="ESRI_STEP_B00B728FB6064C4E9681C58120712FBB"><span purpose="cmd" id="GUID-212C7A42-1687-4CCF-8C9C-07B0C4F1FB24"> Administrative Änderungen werden zuerst für eine Site im Standby-Modus vorgenommen. Fügen Sie beispielsweise einen neuen Service hinzu oder ändern Sie die Sicherheit eines anderen Service in einer Site, die keine aktiven Anforderungen verarbeitet. Auf diese Weise wird sichergestellt, dass keinerlei Auswirkungen auf Anwendungen auftreten, die die primäre Site verwenden.</span></li><li purpose="step" id="ESRI_STEP_4EB66725C203433EAE03FF73D698F6EA"><span purpose="cmd" id="GUID-437B3239-C47C-4C38-B0B1-FCDD44E91446">Konfigurieren Sie den Load Balancer manuell, um alle Anforderungen an die Standby-Site weiterzuleiten, auf der die Änderungen vorgenommen wurden.</span></li><li purpose="step" id="ESRI_STEP_4D19A677A2694061AFDF1806C895BB3B"><span purpose="cmd" id="GUID-6350C413-0F06-4D6C-AE2D-8AE3C45F3423">Wenden Sie dieselben Änderungen auf die nicht aktive Site an.</span></li><li purpose="step" id="ESRI_STEP_18542AF42544419FA949DC39C30CDBD4"><span purpose="cmd" id="GUID-43995EA3-BF8D-431F-9636-94A578E0E428">Kehren Sie den Vorgang auf dem Load Balancer wieder um, sodass Anforderungen wieder zur ursprünglichen primären Site weitergeleitet werden, und belassen Sie die Standby-Site im Standby-Modus.</span></li></ol></div></div><p id="GUID-87CCE021-1815-4423-8A82-75FB64408A6B"> In der vorstehenden Vorgehensweise beschriebene Änderungen an der Site können manuell über <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span> Manager, Skripte oder virtuelle Images angewendet werden.</p></div><div class="section2" id="ESRI_SECTION2_7A70BE1D4E11428099693C68837E9A51" purpose="section2"><h3>Asynchrone Geoverarbeitung und längere Tasks</h3><p id="GUID-63ABF49E-433F-4944-AAC1-5820842EE1EF"> Wenn der Load Balancer zur Standby-Site wechselt, gehen alle aktiven Anforderungen in der primären Site verloren. Wird ein längerer Task (etwa ein Geoverarbeitungs-Task) ausgeführt, wenn der der Failover-Fall eintritt, muss dieser Task in der Standby-Site von der Client-Anwendung neu gestartet werden.</p></div><div class="section2" id="ESRI_SECTION2_AD2A918F0F5D4FF59EEDA3502C56B77A" purpose="section2"><h3>Verwenden der tokenbasierten Sicherheit</h3><p id="GUID-D8F944FD-F648-4A63-84EB-013DDE5EE2F1"> Bei Verwendung der tokenbasierten Authentifizierung – auch als Authentifizierung auf GIS-Ebene bezeichnet – ist wichtig, dass alle Sites in dieser Konfiguration genau denselben freigegebenen Tokenschlüssel verwenden. Andernfalls sind in der primären Site generierte Token ungültig, wenn sie für eine Standby-Site verwendet werden. Informationen zum Duplizieren der freigegebenen Tokenschlüssel auf mehrere Sites finden Sie unter <a class="xref" target="_blank" rel="http://server.arcgis.com/de/server/latest/administer/windows/about-arcgis-tokens.htm" href="http://server.arcgis.com/de/server/latest/administer/windows/about-arcgis-tokens.htm">ArcGIS-Token</a> und <a class="xref" target="_blank" rel="http://server.arcgis.com/de/server/latest/administer/windows/editing-token-settings-in-manager.htm" href="http://server.arcgis.com/de/server/latest/administer/windows/editing-token-settings-in-manager.htm">Bearbeiten von Token-Einstellungen in Manager</a>.</p></div></div><div class="section1" id="ESRI_SECTION1_BF8390AFC33E4EE28CC8EFEA035E1177" purpose="section1"><h2>Vorteile</h2><ul purpose="ul" id="UL_D574A80631724B608ABA0C3675CC3E59"><li purpose="li" id="LI_B0AE7ABEB5DE479E8502D99B03B1A1AB">Die Aktiv/Passiv-Failover-Konfiguration ermöglicht die Erstellung einer redundanten <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Ebene, ohne dass zusätzliche Lizenzierungsgebühren anfallen. Standby-Server können ohne Zusatzkosten lizenziert werden.</li></ul></div><div class="section1" id="ESRI_SECTION1_9A6F1AE806F140AD80FB926FCF4A55CA" purpose="section1"><h2>Nachteile</h2><ul purpose="ul" id="UL_2C134694CD7344C2B3B6E70AD1BDB471"><li purpose="li" id="LI_B00353D7F391425ABB1010D183B89649">Alle Sites hinter dem Load Balancer sind voneinander unabhängig. Jede Site muss separat verwaltet werden; die Sites verfügen über einen eigenen lokalen Konfigurationsspeicher und eigene lokale Serververzeichnisse. Dies kann zu erheblichem Mehraufwand für die Administration und Verwaltung führen, wenn sich die Services oder Daten der Site häufig ändern.</li><li purpose="li" id="LI_F90D1CC466E14AA49D912E0C125EC2AC">Wenn zur Standby-Site gewechselt wird, gehen alle aktiven Anforderungen in der primären Site verloren.</li></ul></div><div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>