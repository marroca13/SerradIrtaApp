<html lang="de" xml:lang="de"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="Ein Reverseproxyserver ist ein Computer, der in einem Umkreisnetzwerk (auch demilitarisierte Zone [DMZ] oder überprüftes Subnetz genannt) bereitgestellt wird, das Anforderungen aus dem Internet bearbeitet und diese an die Computer im internen Netzwerk weiterleitet."><meta name="content-language" content="de"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>ArcGIS - 
Verwenden eines Reverseproxyservers mit Portal for ArcGIS</title>
                <script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".htm");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    if (self.location.hash) {
				    		      fname = fname + self.location.hash;
						        }
                    self.location.replace ("../index.html#//" + fname);
                </script>
                </head><!--Publication GUID: [GUID-FB5257BE-DC53-48C6-82F8-1DA075B0A617]--><!--Topic GUID: [GUID-E452FD74-CAA7-4871-BC78-990DC4D01E03]--><body><div id="content"><div class="header"><h1>
Verwenden eines Reverseproxyservers mit Portal for ArcGIS</h1><div id="breadcrumb"></div></div>
<p id="GUID-E6059846-9BAC-4204-8CA5-AA40D26CE425">Ein Reverseproxyserver ist ein Computer, der in einem Umkreisnetzwerk (auch demilitarisierte Zone [DMZ] oder überprüftes Subnetz genannt) bereitgestellt wird, das Anforderungen aus dem Internet bearbeitet und diese an die Computer im internen Netzwerk weiterleitet. Bei der Weiterleitung von Anforderungen im Namen des Reverseproxyservers werden die Computer hinter der Firewall der Organisation maskiert und interne Computer somit vor direkten Angriffen durch Internetbenutzer geschützt. Um das interne Netzwerk vor externen Benutzern zu schützen, können zusätzliche Sicherheitsfunktionen in den Reverseproxyserver implementiert werden.</p><p id="GUID-1275121D-C786-4A30-98F5-8F46E77A2F67"> Wenn Ihr Reverseproxyserver eine Systemdiagnose unterstützt, können Sie anhand des Endpunktes der Systemdiagnose von <span purpose="ph" translate="no" varid="PortalForArcGIS">Portal for ArcGIS</span> ermitteln, ob das Portal für den Empfang von Anforderungen verfügbar ist. Dies ist hilfreich, um schnell zu bestimmen, ob ein Software- oder Hardwarefehler in der Site vorliegt. Weitere Informationen finden Sie unter dem Portal-Thema <a class="xref" target="_blank" rel="http://resources.arcgis.com/de/help/arcgis-rest-api/02r3/02r300000306000000.htm" href="http://resources.arcgis.com/de/help/arcgis-rest-api/02r3/02r300000306000000.htm">Systemdiagnose</a> in der ArcGIS-REST-API.</p>
<div class="notes" id="GUID-B752AE0F-289C-4AD2-829B-7A439E7D7FCD"><div class="caution"><img class="note_img" src="rsrc/caution.png" alt="Vorsicht" title="Vorsicht"><span>Vorsicht:</span></div><div class="tipbody"><p id="GUID-FB823391-E68A-4647-9728-6449BCA394C1"> Die in diesem Thema beschriebene Konfiguration muss durchgeführt werden, bevor Sie eine <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Site mit Ihrem <span purpose="ph" translate="no" varid="ArcGIS_Enterprise_long">ArcGIS Enterprise</span>-Portal verbinden. Das Aufheben der Verbindung mit einer <span purpose="ph" translate="no" varid="ArcGISforServer">ArcGIS Server</span>-Site hat weitreichende Auswirkungen und kann nicht ohne Weiteres wieder rückgängig gemacht werden. Weitere Informationen finden Sie unter <a class="xref" target="_blank" rel="http://server.arcgis.com/de/portal/latest/administer/windows/administer-a-federated-server.htm" href="http://server.arcgis.com/de/portal/latest/administer/windows/administer-a-federated-server.htm">Verwalten von Verbundservern</a>.</p></div></div><div class="section1" id="ESRI_SECTION1_95330DD599D34B899A6AEF123440D24A" purpose="section1"><h2>Hinzufügen von <span purpose="ph" translate="no" varid="PortalForArcGIS">Portal for ArcGIS</span> zu Ihrem Reverseproxyserver</h2><p id="GUID-57E96981-0F4F-4CCD-8575-3887DFF10792">Vor dem Hinzufügen von <span purpose="ph" translate="no" varid="PortalForArcGIS">Portal for ArcGIS</span> zum Reverseproxyserver Ihrer Organisation führen Sie die folgenden Schritte aus:</p><ul purpose="ul" id="UL_F5978DE6A82346F08A10E966A8728ACE"><li purpose="li" id="LI_85752451301946C7818E4E5249B90325"> Konfigurieren Sie HTTPS (HTTP und HTTPS oder nur HTTPS) auf dem Reverseproxyserver. <span purpose="ph" translate="no" varid="PortalForArcGIS">Portal for ArcGIS</span> erfordert für einen Teil der Kommunikation HTTPS. Informieren Sie sich in der Produktdokumentation zu Ihrem Proxyserver über die Einrichtung von HTTPS.</li><li purpose="li" id="LI_F8E6F46E52544930BB282767356DEF21">Konfigurieren Sie <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> mit Ihrem Portal, wenn es die <a class="xref" rel="01n1/01n100000029000000.htm" href="01n1/01n100000029000000.htm">integrierte Windows-Authentifizierung</a> verwendet. <span purpose="ph" translate="no" varid="PortalForArcGIS">Portal for ArcGIS</span> erfordert zu diesem Zweck die Verwendung von <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span>, um eine fehlerfreie Kommunikation des Reverseproxyservers mit dem Portal zu ermöglichen.  Vollständige Anweisungen finden Sie in den Konfigurationsthemen für <a class="xref" rel="01n1/01n10000001p000000.htm" href="01n1/01n10000001p000000.htm">IIS</a>, <a class="xref" target="_blank" rel="http://server.arcgis.com/de/portal/latest/administer/windows/configure-arcgis-web-adaptor-portal.htm" href="http://server.arcgis.com/de/portal/latest/administer/windows/configure-arcgis-web-adaptor-portal.htm">Java (Windows)</a> oder <a class="xref" target="_blank" rel="http://server.arcgis.com/de/portal/latest/administer/windows/configure-arcgis-web-adaptor-portal.htm" href="http://server.arcgis.com/de/portal/latest/administer/windows/configure-arcgis-web-adaptor-portal.htm">Java (Linux)</a>.</li></ul><p id="GUID-37C824CC-8344-4847-B87E-A773A4917343"> Nach der Konfiguration von <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> mit <span purpose="ph" translate="no" varid="PortalForArcGIS">Portal for ArcGIS</span> kann <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> mit dem Reverseproxyserver der Organisation verwendet werden, indem die Komponenten direkt zu den Proxyserver-Direktiven hinzugefügt werden. Wenn Sie beispielsweise Apache als Reverseproxyserver verwenden, müssen Sie <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> zu den ProxyPass-Direktiven in der Apache-Webserver-Konfigurationsdatei <span class="usertext">httpd.conf</span> hinzufügen:</p><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>ProxyPass /arcgis https://webadaptorhost.domain.com/webadaptorname
ProxyPassReverse /arcgis https://webadaptorhost.domain.com/webadaptorname
</code></pre></div>
</div><p id="GUID-FE2EA9BF-35AA-4795-ADD1-53CD686B7D1C">Die ProxyPass-Direktiven müssen mit dem für <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> festgelegten Namen übereinstimmen (im obigen Beispiel <span class="usertext">/webadaptorname</span>). Wenn die URL für die Site nicht mit der Standardzeichenfolge <span class="usertext">/arcgis</span> endet, geben Sie den nicht standardmäßigen Namen von <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span> an (zum Beispiel <span class="usertext">/myorg</span>).</p><p id="GUID-9F7B9781-DE8C-4648-BA8B-71B50B1AD252">Überprüfen Sie, ob der Proxyserver GZIP-Codierung unterstützt und so konfiguriert ist, dass der
<span class="usertext">Accept-Encoding</span>-Header zulässig ist. Dieser Header ermöglicht die Komprimierung von HTTP 1.1-Antworten mittels GZIP-Codierung. Wenn der Header beispielsweise zulässig ist, gibt eine Anforderung zum Laden von <span purpose="ph" translate="no" varid="AGMapViewer">Map Viewer</span> eine komprimierte Antwort von ca. 1,4 MB an den Browser zurück. Wenn der Header nicht zulässig ist oder ignoriert wird, gibt eine Anforderung eine nicht komprimierte Antwort von ca. 6,8 MB an den Browser zurück. Bei einer geringen Netzwerkgeschwindigkeit kann das Laden von <span purpose="ph" translate="no" varid="AGMapViewer">Map Viewer</span> einige Zeit in Anspruch nehmen, wenn die Antworten nicht komprimiert sind. Es wird dringend empfohlen, diesen Header als Teil der Konfiguration Ihres Reverseproxyservers zuzulassen.</p><p id="GUID-74EBEF4A-6086-41E1-B684-E34751FB0F74">Legen Sie die Eigenschaft <span class="usertext">WebContextURL</span> des Portals fest. Damit kann <span purpose="ph" translate="no" varid="PortalForArcGIS">Portal for ArcGIS</span> die richtigen URLs für alle Ressourcen erstellen, die an den Endbenutzer gesendet werden. Gehen Sie zum Ändern der Eigenschaft <span class="usertext">WebContextURL</span> folgendermaßen vor:</p><div class="wfsteps" purpose="wfsteps"><h4></h4><div class="steps" id="GUID-6E6E7C99-8AEA-46C9-8F20-020A8CFAB3DC"><div class="step_title">Schritte:</div><ol>
<li purpose="step" id="GUID-59FDE619-ABBD-4492-BFEE-28FF55DE3383">
<span purpose="cmd" id="GUID-9EA6CB2B-42D5-4CDB-B3F4-A6B7F812091D">Öffnen Sie einen Webbrowser, und melden Sie sich als Mitglied der Standardadministratorrolle in Ihrer Portal-Organisation beim <a class="xref" target="_blank" rel="http://server.arcgis.com/de/portal/latest/administer/windows/about-the-arcgis-portal-directory.htm" href="http://server.arcgis.com/de/portal/latest/administer/windows/about-the-arcgis-portal-directory.htm">ArcGIS-Portalverzeichnis</a> an. Die URL hat das Format <span class="usertext">https://portal.domain.com:7443/arcgis/portaladmin</span>.</span>
</li>
<li purpose="step" id="ESRI_STEP_4A71032028594FDFAE77EB6051A96881"><span purpose="cmd" id="GUID-A236D912-6825-4E73-B1DB-D8C814D49586">Klicken Sie auf <span class="uicontrol">System <span class="greaterthan">&gt;</span> Properties <span class="greaterthan">&gt;</span> Update Properties</span>.</span></li><li purpose="step" id="ESRI_STEP_0EF7E5092BE34404ABD96EE79938D1D4"><span purpose="cmd" id="GUID-063C0CE8-7348-4DDA-BB7E-7A4032491D28">Geben Sie im Dialogfeld <span class="uicontrol">Update System Properties</span> den folgenden JSON-Code ein, und geben Sie dabei die URL Ihres eigenen Reverseproxyserver oder DNS-Alias ein, wie sie Benutzern außerhalb der Firewall der Organisation angezeigt werden.</span><div class="info" purpose="info"><div class="codeblock" purpose="codeblock"><div class="highlight"><pre><code>{
   &quot;WebContextURL&quot;: &quot;https://reverseproxy.domain.com/myorg&quot;
}
</code></pre></div>
</div></div></li><li purpose="step" id="ESRI_STEP_1457CC3BB07B4B71B9EC8B3D90E02C29"><span purpose="cmd" id="GUID-2D3DBC34-4358-4CC3-97A3-A368FAFB412E">Klicken Sie auf <span class="uicontrol">Update Properties</span>.</span></li></ol></div><div class="result" id="ESRI_RESULT_E0467B285DAC41E8A139B7CE28B5FB8D" purpose="result"><p id="GUID-8C019229-BD7E-4ABB-B2A4-BB6F6254F952">  Nachdem Sie den Reverseproxyserver mit dem Portal konfiguriert haben, greifen Sie zukünftig über die Reverseproxyserver-URL und nicht mehr über die <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span>-URL auf das Portal zu. Alles, worauf in der Portal-Website oder im ArcGIS-Portalverzeichnis zugegriffen wird, gibt die Reverseproxyserver-URL zurück.</p><p id="GUID-D24561C2-6370-4C50-A1B0-7BC7114463E1">Die folgenden administrativen Aufgaben müssen mit der Reverseproxyserver-URL erneut ausgeführt werden:</p><ul purpose="ul" id="UL_41CD7E1BB59F467797051D32633B1739"><li purpose="li" id="LI_3CDA933062E64F718442AF43005DBC63"><a class="xref" target="_blank" rel="http://server.arcgis.com/de/portal/latest/administer/windows/federate-an-arcgis-server-site-with-your-portal.htm" href="http://server.arcgis.com/de/portal/latest/administer/windows/federate-an-arcgis-server-site-with-your-portal.htm">Verbinden einer ArcGIS Server-Site mit dem Portal</a></li><li purpose="li" id="LI_F3E155D55DBD47D1B5F99B32FC125622"><a class="xref" target="_blank" rel="http://server.arcgis.com/de/portal/latest/administer/windows/configure-services.htm" href="http://server.arcgis.com/de/portal/latest/administer/windows/configure-services.htm">Konfigurieren von Utility-Services</a></li></ul><p id="GUID-59AEAE25-42E1-41C5-9348-2710B487DCC2">Wenn Sie zuvor gesicherte Services als Elemente in dem Portal hinzugefügt haben, müssen Sie die ursprünglichen Elemente löschen und erneut hinzufügen. Dies liegt daran, dass die ursprünglichen Elemente die <span purpose="ph" translate="no" varid="WebAdaptorforArcGIS">ArcGIS Web Adaptor</span>-URL anstelle der Reverseproxyserver-URL verwenden.  Weitere Anweisungen finden Sie unter <a class="xref" target="_blank" rel="http://server.arcgis.com/de/portal/latest/administer/windows/connect-secured-services.htm" href="http://server.arcgis.com/de/portal/latest/administer/windows/connect-secured-services.htm">Herstellen einer Verbindung mit gesicherten Services</a>.</p></div></div></div><div class="footer"> Copyright © 1995-2017 Esri. All rights reserved. </div></div></body></html>